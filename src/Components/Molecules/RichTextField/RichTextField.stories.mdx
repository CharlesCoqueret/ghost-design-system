import { useState } from 'react';
import { Canvas, Meta, ArgsTable, Story } from '@storybook/addon-docs';
import { MemoryRouter as Router } from 'react-router-dom';

import RichTextField from './RichTextField';

<Meta
  title='Molecule/RichTextField'
  component={RichTextField}
  parameters={{
    viewMode: 'docs',
    layout: 'fullscreen',
  }}
  argTypes={{
    dataTestId: {
      table: {
        disable: true,
      },
    },
  }}
/>

# RichTextField

export const Template = (args) => {
  const [localValue, setLocalValue] = useState(args.inputValue);
  return <RichTextField {...args} inputValue={localValue} onChange={setLocalValue} />;
};

<Canvas withSource='open'>
  <Story
    name='RichTextField'
    args={{
      label: 'Rich text field',
      enableImage: true,
      enableLink: true,
      inputValue:
        '<h1>Lorem ipsum</h1><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin consectetur ' +
        'tortor nec lorem euismod imperdiet quis vel turpis. Phasellus ultricies nibh vitae laoreet tempus. ' +
        'Quisque vel dolor id arcu dignissim condimentum eu vel purus. Donec auctor, ipsum vel hendrerit ' +
        'molestie, ex quam convallis quam, aliquam laoreet metus nibh in diam. Nam id vulputate magna. Cras ' +
        'ullamcorper eget ipsum ut finibus. Suspendisse a porttitor velit. Integer condimentum mauris et ' +
        'mollis imperdiet. Fusce blandit convallis posuere. Phasellus vehicula purus ullamcorper mauris ' +
        'facilisis eleifend.</p>',
      locale: 'fr',
    }}>
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable of={RichTextField} sort='requiredFirst' exclude={['dataTestId']} />

### Read only with size constraint on label and field

<Canvas withSource='open'>
  <Template
    label='Rich text field read only'
    enableImage={true}
    enableLink={true}
    inputValue={
      '<h1>Lorem ipsum</h1><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin consectetur ' +
      'tortor nec lorem euismod imperdiet quis vel turpis. Phasellus ultricies nibh vitae laoreet tempus. ' +
      'Quisque vel dolor id arcu dignissim condimentum eu vel purus. Donec auctor, ipsum vel hendrerit ' +
      'molestie, ex quam convallis quam, aliquam laoreet metus nibh in diam. Nam id vulputate magna. Cras ' +
      'ullamcorper eget ipsum ut finibus. Suspendisse a porttitor velit. Integer condimentum mauris et ' +
      'mollis imperdiet. Fusce blandit convallis posuere. Phasellus vehicula purus ullamcorper mauris ' +
      'facilisis eleifend.</p>'
    }
    readOnly={true}
  />
</Canvas>

### Error

<Canvas withSource='open'>
  <Template
    errorMessage='This file fied is on error'
    fieldSize={4}
    labelSize={4}
    label='Rich text field in error with label size = 4 and field size = 4'
    inputValue={
      '<h1>Lorem ipsum</h1><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin consectetur ' +
      'tortor nec lorem euismod imperdiet quis vel turpis. Phasellus ultricies nibh vitae laoreet tempus. ' +
      'Quisque vel dolor id arcu dignissim condimentum eu vel purus. Donec auctor, ipsum vel hendrerit ' +
      'molestie, ex quam convallis quam, aliquam laoreet metus nibh in diam. Nam id vulputate magna. Cras ' +
      'ullamcorper eget ipsum ut finibus. Suspendisse a porttitor velit. Integer condimentum mauris et ' +
      'mollis imperdiet. Fusce blandit convallis posuere. Phasellus vehicula purus ullamcorper mauris ' +
      'facilisis eleifend.</p>'
    }
  />
</Canvas>

### Helper and limit

<Canvas withSource='open'>
  <Template
    helperText='Helper text'
    mandatory={true}
    maxLength={1000}
    label='Rich text field with helper'
    inputValue={
      '<h1>Lorem ipsum</h1><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin consectetur ' +
      'tortor nec lorem euismod imperdiet quis vel turpis. Phasellus ultricies nibh vitae laoreet tempus. ' +
      'Quisque vel dolor id arcu dignissim condimentum eu vel purus. Donec auctor, ipsum vel hendrerit ' +
      'molestie, ex quam convallis quam, aliquam laoreet metus nibh in diam. Nam id vulputate magna. Cras ' +
      'ullamcorper eget ipsum ut finibus. Suspendisse a porttitor velit. Integer condimentum mauris et ' +
      'mollis imperdiet. Fusce blandit convallis posuere. Phasellus vehicula purus ullamcorper mauris ' +
      'facilisis eleifend.</p>'
    }
  />
</Canvas>

### Highlighted

<Canvas withSource='open'>
  <Template
    helperText='Helper text'
    highlighted={true}
    maxLength={1000}
    label='Rich text field with helper'
    inputValue={
      '<h1>Lorem ipsum</h1><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin consectetur ' +
      'tortor nec lorem euismod imperdiet quis vel turpis. Phasellus ultricies nibh vitae laoreet tempus. ' +
      'Quisque vel dolor id arcu dignissim condimentum eu vel purus. Donec auctor, ipsum vel hendrerit ' +
      'molestie, ex quam convallis quam, aliquam laoreet metus nibh in diam. Nam id vulputate magna. Cras ' +
      'ullamcorper eget ipsum ut finibus. Suspendisse a porttitor velit. Integer condimentum mauris et ' +
      'mollis imperdiet. Fusce blandit convallis posuere. Phasellus vehicula purus ullamcorper mauris ' +
      'facilisis eleifend.</p>'
    }
    readOnly={true}
  />
</Canvas>

### Disabled

<Canvas withSource='open'>
  <Template
    disabled={true}
    label='Rich text field disabled'
    inputValue={
      '<h1>Lorem ipsum</h1><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin consectetur ' +
      'tortor nec lorem euismod imperdiet quis vel turpis. Phasellus ultricies nibh vitae laoreet tempus. ' +
      'Quisque vel dolor id arcu dignissim condimentum eu vel purus. Donec auctor, ipsum vel hendrerit ' +
      'molestie, ex quam convallis quam, aliquam laoreet metus nibh in diam. Nam id vulputate magna. Cras ' +
      'ullamcorper eget ipsum ut finibus. Suspendisse a porttitor velit. Integer condimentum mauris et ' +
      'mollis imperdiet. Fusce blandit convallis posuere. Phasellus vehicula purus ullamcorper mauris ' +
      'facilisis eleifend.</p>'
    }
  />
</Canvas>
