import { Canvas, Meta, ArgsTable, Story, Source } from '@storybook/addon-docs';

import ActionBar from './ActionBar';
import { ColorButtonEnum } from '../../Molecules';
import { Badge, BadgeColorsEnum, Icon, Tooltip } from '../../Atoms';

import actionBarStyle from '../../../assets/_actionbar.scss?raw';

export const Template = (args) => {
  return <ActionBar {...args} />;
};

<Meta
  title='Organism'
  component={ActionBar}
  parameters={{
    viewMode: 'docs',
    layout: 'fullscreen',
  }}
/>

# ActionBar

The action bar provides to the user context and actions related to the current page scope.

Play with ActionBar live on [CodeSandbox](https://codesandbox.io/s/actionbar-demo-k8y5tr)

## Title

<Canvas isExpanded={true}>
  <ActionBar title='title' />
</Canvas>

## Primary

<Canvas isExpanded={true}>
  <ActionBar title='Primary' primary={true} />
</Canvas>

<Canvas isExpanded={true}>
  <ActionBar title='Secondary' primary={false} />
</Canvas>

## Prefix, suffix and entityId

<Canvas isExpanded={true}>
  <ActionBar title='title' entityId='entityId' prefix='prefix' suffix='suffix' />
</Canvas>

## Back

<Canvas isExpanded={true}>
  <ActionBar
    title='title'
    onBackClicked={() => {
      console.log('Back clicked');
    }}
    backTooltip='Back'
  />
</Canvas>

## Title edition

<Canvas isExpanded={true}>
  <ActionBar
    title='title'
    onTitleEdit={(newTitle) => {
      console.log(newTitle);
    }}
    placeholder='placeholder'
  />
</Canvas>

## Icon

<Canvas isExpanded={true}>
  <ActionBar title='title' icon={<Icon icon={['fal', 'question-circle']} size='lg' />} />
</Canvas>

## Indicator

<Canvas isExpanded={true}>
  <ActionBar
    title='title'
    indicator={
      <Badge color={BadgeColorsEnum.HIGH} tooltip='indicator' type='notification'>
        1
      </Badge>
    }
  />
</Canvas>

## Status

<Canvas isExpanded={true}>
  <ActionBar
    title='title'
    status={
      <Badge color={BadgeColorsEnum.SECONDARY} tooltip='status' type='indicator'>
        Status
      </Badge>
    }
  />
</Canvas>

## Full size action

<Canvas isExpanded={true}>
  <ActionBar
    title='title'
    actions={[
      {
        label: 'Submit',
        icon: ['fal', 'paper-plane'],
        color: ColorButtonEnum.PRIMARY,
        onClick: () => {
          console.log('Submit clicked');
        },
      },
      {
        label: 'Cancel',
        color: ColorButtonEnum.SECONDARY,
        onClick: () => {
          console.log('Cancel clicked');
        },
      },
    ]}
  />
</Canvas>

## Short hand actions

<Canvas isExpanded={true}>
  <ActionBar
    title='title'
    basicActions={[
      {
        tooltip: 'Save',
        color: ColorButtonEnum.REVERSED,
        icon: ['fal', 'save'],
        onClick: () => {
          console.log('Save clicked');
        },
      },
      {
        tooltip: 'Undo',
        icon: ['fal', 'undo'],
        color: ColorButtonEnum.REVERSED,
        onClick: () => {
          console.log('Undo clicked');
        },
      },
    ]}
  />
</Canvas>

## Different types of actions

<Canvas isExpanded={true}>
  <ActionBar
    title='title'
    actions={[
      {
        label: 'Submit',
        icon: ['fal', 'paper-plane'],
        color: ColorButtonEnum.PRIMARY,
        onClick: () => {
          console.log('Submit clicked');
        },
      },
    ]}
    basicActions={[
      {
        tooltip: 'Save',
        color: ColorButtonEnum.REVERSED,
        icon: ['fal', 'save'],
        onClick: () => {
          console.log('Save clicked');
        },
      },
    ]}
  />
</Canvas>

## Props

<ArgsTable of={ActionBar} sort='requiredFirst' />

For layout management, please refer to this [example](https://codesandbox.io/s/size-management-sidebar-xtpkk0)

## Story

<Canvas>
  <Story
    name='ActionBar'
    args={{
      prefix: 'prefix',
      title: 'title',
      suffix: 'suffix',
      primary: true,
      placeholder: 'placeholder',
      entityId: 'entityId',
      onBackClicked: () => {
        console.log('Back clicked');
      },
      backTooltip: 'Back',
      onTitleEdit: (newTitle) => {
        console.log(newTitle);
      },
      icon: <Icon icon={['fal', 'question-circle']} size='lg' />,
      indicator: (
        <Badge color={BadgeColorsEnum.HIGH} tooltip='indicator' type='notification'>
          1
        </Badge>
      ),
      status: (
        <Badge color={BadgeColorsEnum.SECONDARY} tooltip='status' type='indicator'>
          Status
        </Badge>
      ),
      actions: [
        {
          label: 'Submit',
          icon: ['fal', 'paper-plane'],
          color: ColorButtonEnum.PRIMARY,
          onClick: () => {
            console.log('Submit clicked');
          },
        },
        {
          label: 'Cancel',
          color: ColorButtonEnum.SECONDARY,
          onClick: () => {
            console.log('Cancel clicked');
          },
        },
      ],
      basicActions: [
        {
          tooltip: 'Save',
          color: ColorButtonEnum.REVERSED,
          icon: ['fal', 'save'],
          onClick: () => {
            console.log('Save clicked');
          },
        },
        {
          tooltip: 'Undo',
          icon: ['fal', 'undo'],
          color: ColorButtonEnum.REVERSED,
          onClick: () => {
            console.log('Undo clicked');
          },
        },
      ],
    }}>
    {Template.bind({})}
  </Story>
</Canvas>

## Style

[source](https://github.com/CharlesCoqueret/ghost-design-system/blob/main/src/assets/_actionbar.scss)

<Source language='css' dark format={true} code={actionBarStyle} />
