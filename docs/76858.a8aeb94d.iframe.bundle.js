"use strict";(self.webpackChunkghost_design_system=self.webpackChunkghost_design_system||[]).push([[76858],{"./node_modules/suneditor/src/lib/constructor.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _assets_defaultIcons__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/suneditor/src/assets/defaultIcons.js"),_lang_en__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/suneditor/src/lang/en.js"),_lang_en__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_lang_en__WEBPACK_IMPORTED_MODULE_1__),_util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/suneditor/src/lib/util.js");const __WEBPACK_DEFAULT_EXPORT__={init:function(element,options){"object"!=typeof options&&(options={});const doc=document;this._initOptions(element,options);const top_div=doc.createElement("DIV");top_div.className="sun-editor"+(options.rtl?" se-rtl":""),element.id&&(top_div.id="suneditor_"+element.id);const relative=doc.createElement("DIV");relative.className="se-container";const tool_bar=this._createToolBar(doc,options.buttonList,options.plugins,options),toolbarShadow=tool_bar.element.cloneNode(!1);toolbarShadow.className+=" se-toolbar-shadow",tool_bar.element.style.visibility="hidden",tool_bar.pluginCallButtons.math&&this._checkKatexMath(options.katex);const arrow=doc.createElement("DIV");arrow.className="se-arrow";const sticky_dummy=doc.createElement("DIV");sticky_dummy.className="se-toolbar-sticky-dummy";const editor_div=doc.createElement("DIV");editor_div.className="se-wrapper";const initElements=this._initElements(options,top_div,tool_bar.element,arrow),bottomBar=initElements.bottomBar,wysiwyg_div=initElements.wysiwygFrame,placeholder_span=initElements.placeholder;let textarea=initElements.codeView;const resizing_bar=bottomBar.resizingBar,navigation=bottomBar.navigation,char_wrapper=bottomBar.charWrapper,char_counter=bottomBar.charCounter,loading_box=doc.createElement("DIV");loading_box.className="se-loading-box sun-editor-common",loading_box.innerHTML='<div class="se-loading-effect"></div>';const line_breaker=doc.createElement("DIV");line_breaker.className="se-line-breaker",line_breaker.innerHTML='<button class="se-btn">'+options.icons.line_break+"</button>";const line_breaker_t=doc.createElement("DIV");line_breaker_t.className+="se-line-breaker-component";const line_breaker_b=line_breaker_t.cloneNode(!0);line_breaker_t.innerHTML=line_breaker_b.innerHTML=options.icons.line_break;const resize_back=doc.createElement("DIV");resize_back.className="se-resizing-back";const toolbarContainer=options.toolbarContainer;toolbarContainer&&(toolbarContainer.appendChild(tool_bar.element),toolbarContainer.appendChild(toolbarShadow));const resizingBarContainer=options.resizingBarContainer;return resizing_bar&&resizingBarContainer&&resizingBarContainer.appendChild(resizing_bar),editor_div.appendChild(textarea),placeholder_span&&editor_div.appendChild(placeholder_span),toolbarContainer||(relative.appendChild(tool_bar.element),relative.appendChild(toolbarShadow)),relative.appendChild(sticky_dummy),relative.appendChild(editor_div),relative.appendChild(resize_back),relative.appendChild(loading_box),relative.appendChild(line_breaker),relative.appendChild(line_breaker_t),relative.appendChild(line_breaker_b),resizing_bar&&!resizingBarContainer&&relative.appendChild(resizing_bar),top_div.appendChild(relative),textarea=this._checkCodeMirror(options,textarea),{constructed:{_top:top_div,_relative:relative,_toolBar:tool_bar.element,_toolbarShadow:toolbarShadow,_menuTray:tool_bar._menuTray,_editorArea:editor_div,_wysiwygArea:wysiwyg_div,_codeArea:textarea,_placeholder:placeholder_span,_resizingBar:resizing_bar,_navigation:navigation,_charWrapper:char_wrapper,_charCounter:char_counter,_loading:loading_box,_lineBreaker:line_breaker,_lineBreaker_t:line_breaker_t,_lineBreaker_b:line_breaker_b,_resizeBack:resize_back,_stickyDummy:sticky_dummy,_arrow:arrow},options,plugins:tool_bar.plugins,pluginCallButtons:tool_bar.pluginCallButtons,_responsiveButtons:tool_bar.responsiveButtons}},_checkCodeMirror:function(options,textarea){if(options.codeMirror){const cmOptions=[{mode:"htmlmixed",htmlMode:!0,lineNumbers:!0,lineWrapping:!0},options.codeMirror.options||{}].reduce((function(init,option){for(let key in option)_util__WEBPACK_IMPORTED_MODULE_0__.Z.hasOwn(option,key)&&(init[key]=option[key]);return init}),{});"auto"===options.height&&(cmOptions.viewportMargin=1/0,cmOptions.height="auto");const cm=options.codeMirror.src.fromTextArea(textarea,cmOptions);cm.display.wrapper.style.cssText=textarea.style.cssText,options.codeMirrorEditor=cm,(textarea=cm.display.wrapper).className+=" se-wrapper-code-mirror"}return textarea},_checkKatexMath:function(katex){if(!katex)throw Error('[SUNEDITOR.create.fail] To use the math button you need to add a "katex" object to the options.');const katexOptions=[{throwOnError:!1},katex.options||{}].reduce((function(init,option){for(let key in option)_util__WEBPACK_IMPORTED_MODULE_0__.Z.hasOwn(option,key)&&(init[key]=option[key]);return init}),{});katex.options=katexOptions},_setOptions:function(mergeOptions,context,originOptions){this._initOptions(context.element.originElement,mergeOptions);const el=context.element,relative=el.relative,editorArea=el.editorArea,isNewToolbarContainer=mergeOptions.toolbarContainer&&mergeOptions.toolbarContainer!==originOptions.toolbarContainer,isNewToolbar=mergeOptions.lang!==originOptions.lang||mergeOptions.buttonList!==originOptions.buttonList||mergeOptions.mode!==originOptions.mode||isNewToolbarContainer,tool_bar=this._createToolBar(document,isNewToolbar?mergeOptions.buttonList:originOptions.buttonList,mergeOptions.plugins,mergeOptions);tool_bar.pluginCallButtons.math&&this._checkKatexMath(mergeOptions.katex);const arrow=document.createElement("DIV");arrow.className="se-arrow",isNewToolbar&&(tool_bar.element.style.visibility="hidden",isNewToolbarContainer?(mergeOptions.toolbarContainer.appendChild(tool_bar.element),el.toolbar.parentElement.removeChild(el.toolbar)):el.toolbar.parentElement.replaceChild(tool_bar.element,el.toolbar),el.toolbar=tool_bar.element,el._menuTray=tool_bar._menuTray,el._arrow=arrow);const initElements=this._initElements(mergeOptions,el.topArea,isNewToolbar?tool_bar.element:el.toolbar,arrow),bottomBar=initElements.bottomBar,wysiwygFrame=initElements.wysiwygFrame,placeholder_span=initElements.placeholder;let code=initElements.codeView;return el.resizingBar&&_util__WEBPACK_IMPORTED_MODULE_0__.Z.removeItem(el.resizingBar),bottomBar.resizingBar&&(mergeOptions.resizingBarContainer&&mergeOptions.resizingBarContainer!==originOptions.resizingBarContainer?mergeOptions.resizingBarContainer.appendChild(bottomBar.resizingBar):relative.appendChild(bottomBar.resizingBar)),editorArea.innerHTML="",editorArea.appendChild(code),placeholder_span&&editorArea.appendChild(placeholder_span),code=this._checkCodeMirror(mergeOptions,code),el.resizingBar=bottomBar.resizingBar,el.navigation=bottomBar.navigation,el.charWrapper=bottomBar.charWrapper,el.charCounter=bottomBar.charCounter,el.wysiwygFrame=wysiwygFrame,el.code=code,el.placeholder=placeholder_span,mergeOptions.rtl?_util__WEBPACK_IMPORTED_MODULE_0__.Z.addClass(el.topArea,"se-rtl"):_util__WEBPACK_IMPORTED_MODULE_0__.Z.removeClass(el.topArea,"se-rtl"),{callButtons:tool_bar.pluginCallButtons,plugins:tool_bar.plugins,toolbar:tool_bar}},_initElements:function(options,topDiv,toolBar,toolBarArrow){topDiv.style.cssText=options._editorStyles.top,/inline/i.test(options.mode)?(toolBar.className+=" se-toolbar-inline",toolBar.style.width=options.toolbarWidth):/balloon/i.test(options.mode)&&(toolBar.className+=" se-toolbar-balloon",toolBar.style.width=options.toolbarWidth,toolBar.appendChild(toolBarArrow));const wysiwygDiv=document.createElement(options.iframe?"IFRAME":"DIV");if(wysiwygDiv.className="se-wrapper-inner se-wrapper-wysiwyg",options.iframe)wysiwygDiv.allowFullscreen=!0,wysiwygDiv.frameBorder=0,wysiwygDiv.style.cssText=options._editorStyles.frame,wysiwygDiv.className+=options.className;else{wysiwygDiv.setAttribute("contenteditable",!0),wysiwygDiv.setAttribute("scrolling","auto");for(let key in options.iframeAttributes)wysiwygDiv.setAttribute(key,options.iframeAttributes[key]);wysiwygDiv.className+=" "+options._editableClass,wysiwygDiv.style.cssText=options._editorStyles.frame+options._editorStyles.editor,wysiwygDiv.className+=options.className}const textarea=document.createElement("TEXTAREA");textarea.className="se-wrapper-inner se-wrapper-code"+options.className,textarea.style.cssText=options._editorStyles.frame,textarea.style.display="none","auto"===options.height&&(textarea.style.overflow="hidden");let resizingBar=null,navigation=null,charWrapper=null,charCounter=null;if(options.resizingBar&&(resizingBar=document.createElement("DIV"),resizingBar.className="se-resizing-bar sun-editor-common",navigation=document.createElement("DIV"),navigation.className="se-navigation sun-editor-common",resizingBar.appendChild(navigation),options.charCounter)){if(charWrapper=document.createElement("DIV"),charWrapper.className="se-char-counter-wrapper",options.charCounterLabel){const charLabel=document.createElement("SPAN");charLabel.className="se-char-label",charLabel.textContent=options.charCounterLabel,charWrapper.appendChild(charLabel)}if(charCounter=document.createElement("SPAN"),charCounter.className="se-char-counter",charCounter.textContent="0",charWrapper.appendChild(charCounter),options.maxCharCount>0){const char_max=document.createElement("SPAN");char_max.textContent=" / "+options.maxCharCount,charWrapper.appendChild(char_max)}resizingBar.appendChild(charWrapper)}let placeholder=null;return options.placeholder&&(placeholder=document.createElement("SPAN"),placeholder.className="se-placeholder",placeholder.innerText=options.placeholder),{bottomBar:{resizingBar,navigation,charWrapper,charCounter},wysiwygFrame:wysiwygDiv,codeView:textarea,placeholder}},_initOptions:function(element,options){const plugins={};if(options.plugins){const _plugins=options.plugins,pluginsValues=_plugins.length?_plugins:Object.keys(_plugins).map((function(name){return _plugins[name]}));for(let p,i=0,len=pluginsValues.length;i<len;i++)p=pluginsValues[i].default||pluginsValues[i],plugins[p.name]=p}options.plugins=plugins,options.lang=options.lang||_lang_en__WEBPACK_IMPORTED_MODULE_1___default(),options.value="string"==typeof options.value?options.value:null,options.historyStackDelayTime="number"==typeof options.historyStackDelayTime?options.historyStackDelayTime:400,options.frameAttrbutes=options.frameAttrbutes||{},options.defaultTag="string"==typeof options.defaultTag&&options.defaultTag.length>0?options.defaultTag:"p";const textTags=options.textTags=[{bold:"STRONG",underline:"U",italic:"EM",strike:"DEL",sub:"SUB",sup:"SUP"},options.textTags||{}].reduce((function(_default,_new){for(let key in _new)_default[key]=_new[key];return _default}),{});options._textTagsMap={strong:textTags.bold.toLowerCase(),b:textTags.bold.toLowerCase(),u:textTags.underline.toLowerCase(),ins:textTags.underline.toLowerCase(),em:textTags.italic.toLowerCase(),i:textTags.italic.toLowerCase(),del:textTags.strike.toLowerCase(),strike:textTags.strike.toLowerCase(),s:textTags.strike.toLowerCase(),sub:textTags.sub.toLowerCase(),sup:textTags.sup.toLowerCase()},options._defaultCommand={bold:options.textTags.bold,underline:options.textTags.underline,italic:options.textTags.italic,strike:options.textTags.strike,subscript:options.textTags.sub,superscript:options.textTags.sup};options.tagsBlacklist=options.tagsBlacklist||"",options._defaultTagsWhitelist="string"==typeof options._defaultTagsWhitelist?options._defaultTagsWhitelist:"br|p|div|pre|blockquote|h1|h2|h3|h4|h5|h6|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|source|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup|code|svg|path|details|summary",options._editorTagsWhitelist="*"===options.addTagsWhitelist?"*":this._setWhitelist(options._defaultTagsWhitelist+("string"==typeof options.addTagsWhitelist&&options.addTagsWhitelist.length>0?"|"+options.addTagsWhitelist:""),options.tagsBlacklist),options.pasteTagsBlacklist=options.tagsBlacklist+(options.tagsBlacklist&&options.pasteTagsBlacklist?"|"+options.pasteTagsBlacklist:options.pasteTagsBlacklist||""),options.pasteTagsWhitelist="*"===options.pasteTagsWhitelist?"*":this._setWhitelist("string"==typeof options.pasteTagsWhitelist?options.pasteTagsWhitelist:options._editorTagsWhitelist,options.pasteTagsBlacklist),options.attributesWhitelist=options.attributesWhitelist&&"object"==typeof options.attributesWhitelist?options.attributesWhitelist:null,options.attributesBlacklist=options.attributesBlacklist&&"object"==typeof options.attributesBlacklist?options.attributesBlacklist:null,options.mode=options.mode||"classic",options.rtl=!!options.rtl,options.lineAttrReset="string"==typeof options.lineAttrReset&&options.lineAttrReset?options.lineAttrReset.toLowerCase().split("|"):null,options._editableClass="sun-editor-editable"+(options.rtl?" se-rtl":""),options._printClass="string"==typeof options._printClass?options._printClass:null,options.toolbarWidth=options.toolbarWidth?_util__WEBPACK_IMPORTED_MODULE_0__.Z.isNumber(options.toolbarWidth)?options.toolbarWidth+"px":options.toolbarWidth:"auto",options.toolbarContainer="string"==typeof options.toolbarContainer?document.querySelector(options.toolbarContainer):options.toolbarContainer,options.stickyToolbar=/balloon/i.test(options.mode)||options.toolbarContainer?-1:void 0===options.stickyToolbar?0:/^\d+/.test(options.stickyToolbar)?_util__WEBPACK_IMPORTED_MODULE_0__.Z.getNumber(options.stickyToolbar,0):-1,options.hideToolbar=!!options.hideToolbar,options.fullScreenOffset=void 0===options.fullScreenOffset?0:/^\d+/.test(options.fullScreenOffset)?_util__WEBPACK_IMPORTED_MODULE_0__.Z.getNumber(options.fullScreenOffset,0):0,options.fullPage=!!options.fullPage,options.iframe=options.fullPage||!!options.iframe,options.iframeAttributes=options.iframeAttributes||{},options.iframeCSSFileName=options.iframe?"string"==typeof options.iframeCSSFileName?[options.iframeCSSFileName]:options.iframeCSSFileName||["suneditor"]:null,options.previewTemplate="string"==typeof options.previewTemplate?options.previewTemplate:null,options.printTemplate="string"==typeof options.printTemplate?options.printTemplate:null,options.codeMirror=options.codeMirror?options.codeMirror.src?options.codeMirror:{src:options.codeMirror}:null,options.katex=options.katex?options.katex.src?options.katex:{src:options.katex}:null,options.mathFontSize=options.mathFontSize?options.mathFontSize:[{text:"1",value:"1em"},{text:"1.5",value:"1.5em"},{text:"2",value:"2em"},{text:"2.5",value:"2.5em"}],options.position="string"==typeof options.position?options.position:null,options.display=options.display||("none"!==element.style.display&&element.style.display?element.style.display:"block"),options.popupDisplay=options.popupDisplay||"full",options.resizingBar=void 0===options.resizingBar?!/inline|balloon/i.test(options.mode):options.resizingBar,options.showPathLabel=!!options.resizingBar&&("boolean"!=typeof options.showPathLabel||options.showPathLabel),options.resizeEnable=void 0===options.resizeEnable||!!options.resizeEnable,options.resizingBarContainer="string"==typeof options.resizingBarContainer?document.querySelector(options.resizingBarContainer):options.resizingBarContainer,options.charCounter=options.maxCharCount>0||"boolean"==typeof options.charCounter&&options.charCounter,options.charCounterType="string"==typeof options.charCounterType?options.charCounterType:"char",options.charCounterLabel="string"==typeof options.charCounterLabel?options.charCounterLabel.trim():null,options.maxCharCount=_util__WEBPACK_IMPORTED_MODULE_0__.Z.isNumber(options.maxCharCount)&&options.maxCharCount>-1?1*options.maxCharCount:null,options.width=options.width?_util__WEBPACK_IMPORTED_MODULE_0__.Z.isNumber(options.width)?options.width+"px":options.width:element.clientWidth?element.clientWidth+"px":"100%",options.minWidth=(_util__WEBPACK_IMPORTED_MODULE_0__.Z.isNumber(options.minWidth)?options.minWidth+"px":options.minWidth)||"",options.maxWidth=(_util__WEBPACK_IMPORTED_MODULE_0__.Z.isNumber(options.maxWidth)?options.maxWidth+"px":options.maxWidth)||"",options.height=options.height?_util__WEBPACK_IMPORTED_MODULE_0__.Z.isNumber(options.height)?options.height+"px":options.height:element.clientHeight?element.clientHeight+"px":"auto",options.minHeight=(_util__WEBPACK_IMPORTED_MODULE_0__.Z.isNumber(options.minHeight)?options.minHeight+"px":options.minHeight)||"",options.maxHeight=(_util__WEBPACK_IMPORTED_MODULE_0__.Z.isNumber(options.maxHeight)?options.maxHeight+"px":options.maxHeight)||"",options.className="string"==typeof options.className&&options.className.length>0?" "+options.className:"",options.defaultStyle="string"==typeof options.defaultStyle?options.defaultStyle:"",options.font=options.font?options.font:["Arial","Comic Sans MS","Courier New","Impact","Georgia","tahoma","Trebuchet MS","Verdana"],options.fontSize=options.fontSize?options.fontSize:null,options.formats=options.formats?options.formats:null,options.colorList=options.colorList?options.colorList:null,options.lineHeights=options.lineHeights?options.lineHeights:null,options.paragraphStyles=options.paragraphStyles?options.paragraphStyles:null,options.textStyles=options.textStyles?options.textStyles:null,options.fontSizeUnit="string"==typeof options.fontSizeUnit&&options.fontSizeUnit.trim().toLowerCase()||"px",options.alignItems="object"==typeof options.alignItems?options.alignItems:options.rtl?["right","center","left","justify"]:["left","center","right","justify"],options.imageResizing=void 0===options.imageResizing||options.imageResizing,options.imageHeightShow=void 0===options.imageHeightShow||!!options.imageHeightShow,options.imageAlignShow=void 0===options.imageAlignShow||!!options.imageAlignShow,options.imageWidth=options.imageWidth?_util__WEBPACK_IMPORTED_MODULE_0__.Z.isNumber(options.imageWidth)?options.imageWidth+"px":options.imageWidth:"auto",options.imageHeight=options.imageHeight?_util__WEBPACK_IMPORTED_MODULE_0__.Z.isNumber(options.imageHeight)?options.imageHeight+"px":options.imageHeight:"auto",options.imageSizeOnlyPercentage=!!options.imageSizeOnlyPercentage,options._imageSizeUnit=options.imageSizeOnlyPercentage?"%":"px",options.imageRotation=void 0!==options.imageRotation?options.imageRotation:!(options.imageSizeOnlyPercentage||!options.imageHeightShow),options.imageFileInput=void 0===options.imageFileInput||options.imageFileInput,options.imageUrlInput=void 0===options.imageUrlInput||!options.imageFileInput||options.imageUrlInput,options.imageUploadHeader=options.imageUploadHeader||null,options.imageUploadUrl="string"==typeof options.imageUploadUrl?options.imageUploadUrl:null,options.imageUploadSizeLimit=/\d+/.test(options.imageUploadSizeLimit)?_util__WEBPACK_IMPORTED_MODULE_0__.Z.getNumber(options.imageUploadSizeLimit,0):null,options.imageMultipleFile=!!options.imageMultipleFile,options.imageAccept="string"!=typeof options.imageAccept||"*"===options.imageAccept.trim()?"image/*":options.imageAccept.trim()||"image/*",options.imageGalleryUrl="string"==typeof options.imageGalleryUrl?options.imageGalleryUrl:null,options.imageGalleryHeader=options.imageGalleryHeader||null,options.videoResizing=void 0===options.videoResizing||options.videoResizing,options.videoHeightShow=void 0===options.videoHeightShow||!!options.videoHeightShow,options.videoAlignShow=void 0===options.videoAlignShow||!!options.videoAlignShow,options.videoRatioShow=void 0===options.videoRatioShow||!!options.videoRatioShow,options.videoWidth=options.videoWidth&&_util__WEBPACK_IMPORTED_MODULE_0__.Z.getNumber(options.videoWidth,0)?_util__WEBPACK_IMPORTED_MODULE_0__.Z.isNumber(options.videoWidth)?options.videoWidth+"px":options.videoWidth:"",options.videoHeight=options.videoHeight&&_util__WEBPACK_IMPORTED_MODULE_0__.Z.getNumber(options.videoHeight,0)?_util__WEBPACK_IMPORTED_MODULE_0__.Z.isNumber(options.videoHeight)?options.videoHeight+"px":options.videoHeight:"",options.videoSizeOnlyPercentage=!!options.videoSizeOnlyPercentage,options._videoSizeUnit=options.videoSizeOnlyPercentage?"%":"px",options.videoRotation=void 0!==options.videoRotation?options.videoRotation:!(options.videoSizeOnlyPercentage||!options.videoHeightShow),options.videoRatio=_util__WEBPACK_IMPORTED_MODULE_0__.Z.getNumber(options.videoRatio,4)||.5625,options.videoRatioList=options.videoRatioList?options.videoRatioList:null,options.youtubeQuery=(options.youtubeQuery||"").replace("?",""),options.videoFileInput=!!options.videoFileInput,options.videoUrlInput=void 0===options.videoUrlInput||!options.videoFileInput||options.videoUrlInput,options.videoUploadHeader=options.videoUploadHeader||null,options.videoUploadUrl="string"==typeof options.videoUploadUrl?options.videoUploadUrl:null,options.videoUploadSizeLimit=/\d+/.test(options.videoUploadSizeLimit)?_util__WEBPACK_IMPORTED_MODULE_0__.Z.getNumber(options.videoUploadSizeLimit,0):null,options.videoMultipleFile=!!options.videoMultipleFile,options.videoTagAttrs=options.videoTagAttrs||null,options.videoIframeAttrs=options.videoIframeAttrs||null,options.videoAccept="string"!=typeof options.videoAccept||"*"===options.videoAccept.trim()?"video/*":options.videoAccept.trim()||"video/*",options.audioWidth=options.audioWidth?_util__WEBPACK_IMPORTED_MODULE_0__.Z.isNumber(options.audioWidth)?options.audioWidth+"px":options.audioWidth:"",options.audioHeight=options.audioHeight?_util__WEBPACK_IMPORTED_MODULE_0__.Z.isNumber(options.audioHeight)?options.audioHeight+"px":options.audioHeight:"",options.audioFileInput=!!options.audioFileInput,options.audioUrlInput=void 0===options.audioUrlInput||!options.audioFileInput||options.audioUrlInput,options.audioUploadHeader=options.audioUploadHeader||null,options.audioUploadUrl="string"==typeof options.audioUploadUrl?options.audioUploadUrl:null,options.audioUploadSizeLimit=/\d+/.test(options.audioUploadSizeLimit)?_util__WEBPACK_IMPORTED_MODULE_0__.Z.getNumber(options.audioUploadSizeLimit,0):null,options.audioMultipleFile=!!options.audioMultipleFile,options.audioTagAttrs=options.audioTagAttrs||null,options.audioAccept="string"!=typeof options.audioAccept||"*"===options.audioAccept.trim()?"audio/*":options.audioAccept.trim()||"audio/*",options.tableCellControllerPosition="string"==typeof options.tableCellControllerPosition?options.tableCellControllerPosition.toLowerCase():"cell",options.linkTargetNewWindow=!!options.linkTargetNewWindow,options.linkProtocol="string"==typeof options.linkProtocol?options.linkProtocol:null,options.linkRel=Array.isArray(options.linkRel)?options.linkRel:[],options.linkRelDefault=options.linkRelDefault||{},options.tabDisable=!!options.tabDisable,options.shortcutsDisable=Array.isArray(options.shortcutsDisable)?options.shortcutsDisable:[],options.shortcutsHint=void 0===options.shortcutsHint||!!options.shortcutsHint,options.callBackSave=options.callBackSave?options.callBackSave:null,options.templates=options.templates?options.templates:null,options.placeholder="string"==typeof options.placeholder?options.placeholder:null,options.mediaAutoSelect=void 0===options.mediaAutoSelect||!!options.mediaAutoSelect,options.buttonList=options.buttonList?options.buttonList:[["undo","redo"],["bold","underline","italic","strike","subscript","superscript"],["removeFormat"],["outdent","indent"],["fullScreen","showBlocks","codeView"],["preview","print"]],options.rtl&&(options.buttonList=options.buttonList.reverse()),options.icons=options.icons&&"object"==typeof options.icons?[_assets_defaultIcons__WEBPACK_IMPORTED_MODULE_2__.Z,options.icons].reduce((function(_default,_new){for(let key in _new)_util__WEBPACK_IMPORTED_MODULE_0__.Z.hasOwn(_new,key)&&(_default[key]=_new[key]);return _default}),{}):_assets_defaultIcons__WEBPACK_IMPORTED_MODULE_2__.Z,options.icons=options.rtl?[options.icons,options.icons.rtl].reduce((function(_default,_new){for(let key in _new)_util__WEBPACK_IMPORTED_MODULE_0__.Z.hasOwn(_new,key)&&(_default[key]=_new[key]);return _default}),{}):options.icons,options.__listCommonStyle=options.__listCommonStyle||["fontSize","color","fontFamily","fontWeight","fontStyle"],options._editorStyles=_util__WEBPACK_IMPORTED_MODULE_0__.Z._setDefaultOptionStyle(options,options.defaultStyle)},_setWhitelist:function(whitelist,blacklist){if("string"!=typeof blacklist)return whitelist;blacklist=blacklist.split("|"),whitelist=whitelist.split("|");for(let index,i=0,len=blacklist.length;i<len;i++)index=whitelist.indexOf(blacklist[i]),index>-1&&whitelist.splice(index,1);return whitelist.join("|")},_defaultButtons:function(options){const icons=options.icons,lang=options.lang,cmd=_util__WEBPACK_IMPORTED_MODULE_0__.Z.isOSX_IOS?"⌘":"CTRL",addShift=_util__WEBPACK_IMPORTED_MODULE_0__.Z.isOSX_IOS?"⇧":"+SHIFT",shortcutsDisable=options.shortcutsHint?options.shortcutsDisable:["bold","strike","underline","italic","undo","indent","save"],indentKey=options.rtl?["[","]"]:["]","["],indentIcon=options.rtl?[icons.outdent,icons.indent]:[icons.indent,icons.outdent];return{bold:["",lang.toolbar.bold+'<span class="se-shortcut">'+(shortcutsDisable.indexOf("bold")>-1?"":cmd+'+<span class="se-shortcut-key">B</span>')+"</span>","bold","",icons.bold],underline:["",lang.toolbar.underline+'<span class="se-shortcut">'+(shortcutsDisable.indexOf("underline")>-1?"":cmd+'+<span class="se-shortcut-key">U</span>')+"</span>","underline","",icons.underline],italic:["",lang.toolbar.italic+'<span class="se-shortcut">'+(shortcutsDisable.indexOf("italic")>-1?"":cmd+'+<span class="se-shortcut-key">I</span>')+"</span>","italic","",icons.italic],strike:["",lang.toolbar.strike+'<span class="se-shortcut">'+(shortcutsDisable.indexOf("strike")>-1?"":cmd+addShift+'+<span class="se-shortcut-key">S</span>')+"</span>","strike","",icons.strike],subscript:["",lang.toolbar.subscript,"SUB","",icons.subscript],superscript:["",lang.toolbar.superscript,"SUP","",icons.superscript],removeFormat:["",lang.toolbar.removeFormat,"removeFormat","",icons.erase],indent:["",lang.toolbar.indent+'<span class="se-shortcut">'+(shortcutsDisable.indexOf("indent")>-1?"":cmd+'+<span class="se-shortcut-key">'+indentKey[0]+"</span>")+"</span>","indent","",indentIcon[0]],outdent:["",lang.toolbar.outdent+'<span class="se-shortcut">'+(shortcutsDisable.indexOf("indent")>-1?"":cmd+'+<span class="se-shortcut-key">'+indentKey[1]+"</span>")+"</span>","outdent","",indentIcon[1]],fullScreen:["se-code-view-enabled se-resizing-enabled",lang.toolbar.fullScreen,"fullScreen","",icons.expansion],showBlocks:["",lang.toolbar.showBlocks,"showBlocks","",icons.show_blocks],codeView:["se-code-view-enabled se-resizing-enabled",lang.toolbar.codeView,"codeView","",icons.code_view],undo:["",lang.toolbar.undo+'<span class="se-shortcut">'+(shortcutsDisable.indexOf("undo")>-1?"":cmd+'+<span class="se-shortcut-key">Z</span>')+"</span>","undo","",icons.undo],redo:["",lang.toolbar.redo+'<span class="se-shortcut">'+(shortcutsDisable.indexOf("undo")>-1?"":cmd+'+<span class="se-shortcut-key">Y</span> / '+cmd+addShift+'+<span class="se-shortcut-key">Z</span>')+"</span>","redo","",icons.redo],preview:["se-resizing-enabled",lang.toolbar.preview,"preview","",icons.preview],print:["se-resizing-enabled",lang.toolbar.print,"print","",icons.print],dir:["",lang.toolbar[options.rtl?"dir_ltr":"dir_rtl"],"dir","",icons[options.rtl?"dir_ltr":"dir_rtl"]],dir_ltr:["",lang.toolbar.dir_ltr,"dir_ltr","",icons.dir_ltr],dir_rtl:["",lang.toolbar.dir_rtl,"dir_rtl","",icons.dir_rtl],save:["se-resizing-enabled",lang.toolbar.save+'<span class="se-shortcut">'+(shortcutsDisable.indexOf("save")>-1?"":cmd+'+<span class="se-shortcut-key">S</span>')+"</span>","save","",icons.save],blockquote:["",lang.toolbar.tag_blockquote,"blockquote","command",icons.blockquote],font:["se-btn-select se-btn-tool-font",lang.toolbar.font,"font","submenu",'<span class="txt">'+lang.toolbar.font+"</span>"+icons.arrow_down],formatBlock:["se-btn-select se-btn-tool-format",lang.toolbar.formats,"formatBlock","submenu",'<span class="txt">'+lang.toolbar.formats+"</span>"+icons.arrow_down],fontSize:["se-btn-select se-btn-tool-size",lang.toolbar.fontSize,"fontSize","submenu",'<span class="txt">'+lang.toolbar.fontSize+"</span>"+icons.arrow_down],fontColor:["",lang.toolbar.fontColor,"fontColor","submenu",icons.font_color],hiliteColor:["",lang.toolbar.hiliteColor,"hiliteColor","submenu",icons.highlight_color],align:["se-btn-align",lang.toolbar.align,"align","submenu",options.rtl?icons.align_right:icons.align_left],list:["",lang.toolbar.list,"list","submenu",icons.list_number],horizontalRule:["btn_line",lang.toolbar.horizontalRule,"horizontalRule","submenu",icons.horizontal_rule],table:["",lang.toolbar.table,"table","submenu",icons.table],lineHeight:["",lang.toolbar.lineHeight,"lineHeight","submenu",icons.line_height],template:["",lang.toolbar.template,"template","submenu",icons.template],paragraphStyle:["",lang.toolbar.paragraphStyle,"paragraphStyle","submenu",icons.paragraph_style],textStyle:["",lang.toolbar.textStyle,"textStyle","submenu",icons.text_style],link:["",lang.toolbar.link,"link","dialog",icons.link],image:["",lang.toolbar.image,"image","dialog",icons.image],video:["",lang.toolbar.video,"video","dialog",icons.video],audio:["",lang.toolbar.audio,"audio","dialog",icons.audio],math:["",lang.toolbar.math,"math","dialog",icons.math],imageGallery:["",lang.toolbar.imageGallery,"imageGallery","fileBrowser",icons.image_gallery]}},_createModuleGroup:function(){const oDiv=_util__WEBPACK_IMPORTED_MODULE_0__.Z.createElement("DIV");oDiv.className="se-btn-module se-btn-module-border";const oUl=_util__WEBPACK_IMPORTED_MODULE_0__.Z.createElement("UL");return oUl.className="se-menu-list",oDiv.appendChild(oUl),{div:oDiv,ul:oUl}},_createButton:function(buttonClass,title,dataCommand,dataDisplay,innerHTML,_disabled,_icons){const oLi=_util__WEBPACK_IMPORTED_MODULE_0__.Z.createElement("LI"),oButton=_util__WEBPACK_IMPORTED_MODULE_0__.Z.createElement("BUTTON"),label=title||dataCommand;return oButton.setAttribute("type","button"),oButton.setAttribute("class","se-btn"+(buttonClass?" "+buttonClass:"")+" se-tooltip"),oButton.setAttribute("data-command",dataCommand),oButton.setAttribute("data-display",dataDisplay),oButton.setAttribute("aria-label",label.replace(/<span .+<\/span>/,"")),oButton.setAttribute("tabindex","-1"),innerHTML||(innerHTML='<span class="se-icon-text">!</span>'),/^default\./i.test(innerHTML)&&(innerHTML=_icons[innerHTML.replace(/^default\./i,"")]),/^text\./i.test(innerHTML)&&(innerHTML=innerHTML.replace(/^text\./i,""),oButton.className+=" se-btn-more-text"),innerHTML+='<span class="se-tooltip-inner"><span class="se-tooltip-text">'+label+"</span></span>",_disabled&&oButton.setAttribute("disabled",!0),oButton.innerHTML=innerHTML,oLi.appendChild(oButton),{li:oLi,button:oButton}},_createToolBar:function(doc,buttonList,plugins,options){const separator_vertical=doc.createElement("DIV");separator_vertical.className="se-toolbar-separator-vertical";const tool_bar=doc.createElement("DIV");tool_bar.className="se-toolbar sun-editor-common";const _buttonTray=doc.createElement("DIV");_buttonTray.className="se-btn-tray",tool_bar.appendChild(_buttonTray),buttonList=JSON.parse(JSON.stringify(buttonList));const icons=options.icons,defaultButtonList=this._defaultButtons(options),pluginCallButtons={},responsiveButtons=[];let module=null,button=null,moduleElement=null,buttonElement=null,pluginName="",vertical=!1;const moreLayer=_util__WEBPACK_IMPORTED_MODULE_0__.Z.createElement("DIV");moreLayer.className="se-toolbar-more-layer";buttonGroupLoop:for(let more,moreContainer,moreCommand,buttonGroup,align,i=0;i<buttonList.length;i++)if(more=!1,align="",buttonGroup=buttonList[i],moduleElement=this._createModuleGroup(),"object"==typeof buttonGroup){for(let moreButton,j=0;j<buttonGroup.length;j++){if(button=buttonGroup[j],moreButton=!1,/^\%\d+/.test(button)&&0===j){buttonGroup[0]=button.replace(/[^\d]/g,""),responsiveButtons.push(buttonGroup),buttonList.splice(i--,1);continue buttonGroupLoop}if("object"==typeof button)"function"==typeof button.add?(pluginName=button.name,module=defaultButtonList[pluginName],plugins[pluginName]=button):(pluginName=button.name,module=[button.buttonClass,button.title,button.name,button.dataDisplay,button.innerHTML,button._disabled]);else{if(/^\-/.test(button)){align=button.substr(1),moduleElement.div.className+=" module-float-"+align;continue}if(/^\#/.test(button)){"fix"===button.substr(1)&&(moduleElement.ul.className+=" se-menu-dir-fix");continue}if(/^\:/.test(button)){moreButton=!0;const matched=button.match(/^\:([^\-]+)\-([^\-]+)\-([^\-]+)/);moreCommand="__se__"+matched[1].trim();module=["se-btn-more",matched[2].trim(),moreCommand,"MORE",matched[3].trim()]}else module=defaultButtonList[button];if(pluginName=button,!module){const custom=plugins[pluginName];if(!custom)throw Error("[SUNEDITOR.create.toolbar.fail] The button name of a plugin that does not exist. ["+pluginName+"]");module=[custom.buttonClass,custom.title,custom.name,custom.display,custom.innerHTML,custom._disabled]}}buttonElement=this._createButton(module[0],module[1],module[2],module[3],module[4],module[5],icons),(more?moreContainer:moduleElement.ul).appendChild(buttonElement.li),plugins[pluginName]&&(pluginCallButtons[pluginName]=buttonElement.button),moreButton&&(more=!0,moreContainer=_util__WEBPACK_IMPORTED_MODULE_0__.Z.createElement("DIV"),moreContainer.className="se-more-layer "+moreCommand,moreContainer.innerHTML='<div class="se-more-form"><ul class="se-menu-list"'+(align?' style="float: '+align+';"':"")+"></ul></div>",moreLayer.appendChild(moreContainer),moreContainer=moreContainer.firstElementChild.firstElementChild)}if(vertical){const sv=separator_vertical.cloneNode(!1);_buttonTray.appendChild(sv)}_buttonTray.appendChild(moduleElement.div),vertical=!0}else if(/^\/$/.test(buttonGroup)){const enterDiv=doc.createElement("DIV");enterDiv.className="se-btn-module-enter",_buttonTray.appendChild(enterDiv),vertical=!1}switch(_buttonTray.children.length){case 0:_buttonTray.style.display="none";break;case 1:_util__WEBPACK_IMPORTED_MODULE_0__.Z.removeClass(_buttonTray.firstElementChild,"se-btn-module-border");break;default:if(options.rtl){const sv=separator_vertical.cloneNode(!1);sv.style.float=_buttonTray.lastElementChild.style.float,_buttonTray.appendChild(sv)}}responsiveButtons.length>0&&responsiveButtons.unshift(buttonList),moreLayer.children.length>0&&_buttonTray.appendChild(moreLayer);const _menuTray=doc.createElement("DIV");_menuTray.className="se-menu-tray",tool_bar.appendChild(_menuTray);const tool_cover=doc.createElement("DIV");return tool_cover.className="se-toolbar-cover",tool_bar.appendChild(tool_cover),options.hideToolbar&&(tool_bar.style.display="none"),{element:tool_bar,plugins,pluginCallButtons,responsiveButtons,_menuTray,_buttonTray}}}},"./node_modules/suneditor/src/lib/context.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function(element,cons,options){return{element:{originElement:element,topArea:cons._top,relative:cons._relative,toolbar:cons._toolBar,_toolbarShadow:cons._toolbarShadow,_buttonTray:cons._toolBar.querySelector(".se-btn-tray"),_menuTray:cons._menuTray,resizingBar:cons._resizingBar,navigation:cons._navigation,charWrapper:cons._charWrapper,charCounter:cons._charCounter,editorArea:cons._editorArea,wysiwygFrame:cons._wysiwygArea,wysiwyg:cons._wysiwygArea,code:cons._codeArea,placeholder:cons._placeholder,loading:cons._loading,lineBreaker:cons._lineBreaker,lineBreaker_t:cons._lineBreaker_t,lineBreaker_b:cons._lineBreaker_b,resizeBackground:cons._resizeBack,_stickyDummy:cons._stickyDummy,_arrow:cons._arrow},tool:{cover:cons._toolBar.querySelector(".se-toolbar-cover"),bold:cons._toolBar.querySelector('[data-command="bold"]'),underline:cons._toolBar.querySelector('[data-command="underline"]'),italic:cons._toolBar.querySelector('[data-command="italic"]'),strike:cons._toolBar.querySelector('[data-command="strike"]'),sub:cons._toolBar.querySelector('[data-command="SUB"]'),sup:cons._toolBar.querySelector('[data-command="SUP"]'),undo:cons._toolBar.querySelector('[data-command="undo"]'),redo:cons._toolBar.querySelector('[data-command="redo"]'),save:cons._toolBar.querySelector('[data-command="save"]'),outdent:cons._toolBar.querySelector('[data-command="outdent"]'),indent:cons._toolBar.querySelector('[data-command="indent"]'),fullScreen:cons._toolBar.querySelector('[data-command="fullScreen"]'),showBlocks:cons._toolBar.querySelector('[data-command="showBlocks"]'),codeView:cons._toolBar.querySelector('[data-command="codeView"]'),dir:cons._toolBar.querySelector('[data-command="dir"]'),dir_ltr:cons._toolBar.querySelector('[data-command="dir_ltr"]'),dir_rtl:cons._toolBar.querySelector('[data-command="dir_rtl"]')},options,option:options}}},"./node_modules/suneditor/src/lib/history.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function __WEBPACK_DEFAULT_EXPORT__(core,change){const _w=core._w,util=core.util,delayTime=core.options.historyStackDelayTime;let editor=core.context.element,undo=core.context.tool.undo,redo=core.context.tool.redo,pushDelay=null,stackIndex=0,stack=[];function setContentsFromStack(){const item=stack[stackIndex];editor.wysiwyg.innerHTML=item.contents,core.setRange(util.getNodeFromPath(item.s.path,editor.wysiwyg),item.s.offset,util.getNodeFromPath(item.e.path,editor.wysiwyg),item.e.offset),core.focus(),stack.length<=1?(undo&&undo.setAttribute("disabled",!0),redo&&redo.setAttribute("disabled",!0)):0===stackIndex?(undo&&undo.setAttribute("disabled",!0),redo&&redo.removeAttribute("disabled")):stackIndex===stack.length-1?(undo&&undo.removeAttribute("disabled"),redo&&redo.setAttribute("disabled",!0)):(undo&&undo.removeAttribute("disabled"),redo&&redo.removeAttribute("disabled")),core.controllersOff(),core._checkComponents(),core._setCharCount(),core._resourcesStateChange(),change()}function pushStack(){core._checkComponents();const current=core.getContents(!0);if(!current||stack[stackIndex]&&current===stack[stackIndex].contents)return;stackIndex++;const range=core._variable._range;stack.length>stackIndex&&(stack=stack.slice(0,stackIndex),redo&&redo.setAttribute("disabled",!0)),stack[stackIndex]=range?{contents:current,s:{path:util.getNodePath(range.startContainer,null,null),offset:range.startOffset},e:{path:util.getNodePath(range.endContainer,null,null),offset:range.endOffset}}:{contents:current,s:{path:[0,0],offset:[0,0]},e:{path:0,offset:0}},1===stackIndex&&undo&&undo.removeAttribute("disabled"),core._setCharCount(),change()}return{stack,push:function(delay){_w.setTimeout(core._resourcesStateChange.bind(core));const time="number"==typeof delay?delay>0?delay:0:delay?delayTime:0;time&&!pushDelay||(_w.clearTimeout(pushDelay),time)?pushDelay=_w.setTimeout((function(){_w.clearTimeout(pushDelay),pushDelay=null,pushStack()}),time):pushStack()},undo:function(){stackIndex>0&&(stackIndex--,setContentsFromStack())},redo:function(){stack.length-1>stackIndex&&(stackIndex++,setContentsFromStack())},go:function(index){stackIndex=index<0?stack.length-1:index,setContentsFromStack()},getCurrentIndex:function(){return stackIndex},reset:function(ignoreChangeEvent){undo&&undo.setAttribute("disabled",!0),redo&&redo.setAttribute("disabled",!0),core._variable.isChanged=!1,core.context.tool.save&&core.context.tool.save.setAttribute("disabled",!0),stack.splice(0),stackIndex=0,stack[stackIndex]={contents:core.getContents(!0),s:{path:[0,0],offset:0},e:{path:[0,0],offset:0}},ignoreChangeEvent||change()},_resetCachingButton:function(){editor=core.context.element,undo=core.context.tool.undo,redo=core.context.tool.redo,0===stackIndex?(undo&&undo.setAttribute("disabled",!0),redo&&stackIndex===stack.length-1&&redo.setAttribute("disabled",!0),core._variable.isChanged=!1,core.context.tool.save&&core.context.tool.save.setAttribute("disabled",!0)):stackIndex===stack.length-1&&redo&&redo.setAttribute("disabled",!0)},_destroy:function(){pushDelay&&_w.clearTimeout(pushDelay),stack=null}}}__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__})},"./node_modules/suneditor/src/lib/util.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const util={_d:null,_w:null,isIE:null,isIE_Edge:null,isOSX_IOS:null,isChromium:null,isResizeObserverSupported:null,_propertiesInit:function(){this._d||(this._d=document,this._w=window,this.isIE=navigator.userAgent.indexOf("Trident")>-1,this.isIE_Edge=navigator.userAgent.indexOf("Trident")>-1||navigator.appVersion.indexOf("Edge")>-1,this.isOSX_IOS=/(Mac|iPhone|iPod|iPad)/.test(navigator.platform),this.isChromium=!!window.chrome,this.isResizeObserverSupported="function"==typeof ResizeObserver)},_allowedEmptyNodeList:".se-component, pre, blockquote, hr, li, table, img, iframe, video, audio, canvas",_HTMLConvertor:function(contents){const ec={"&":"&amp;"," ":"&nbsp;","'":"&apos;",'"':"&quot;","<":"&lt;",">":"&gt;"};return contents.replace(/&|\u00A0|'|"|<|>/g,(function(m){return"string"==typeof ec[m]?ec[m]:m}))},zeroWidthSpace:String.fromCharCode(8203),zeroWidthRegExp:new RegExp(String.fromCharCode(8203),"g"),onlyZeroWidthRegExp:new RegExp("^"+String.fromCharCode(8203)+"+$"),onlyZeroWidthSpace:function(text){return null!=text&&("string"!=typeof text&&(text=text.textContent),""===text||this.onlyZeroWidthRegExp.test(text))},getXMLHttpRequest:function(){if(!this._w.ActiveXObject)return this._w.XMLHttpRequest?new XMLHttpRequest:null;try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e1){return null}}},getValues:function(obj){return obj?this._w.Object.keys(obj).map((function(i){return obj[i]})):[]},camelToKebabCase:function(param){return"string"==typeof param?param.replace(/[A-Z]/g,(function(letter){return"-"+letter.toLowerCase()})):param.map((function(str){return util.camelToKebabCase(str)}))},kebabToCamelCase:function(param){return"string"==typeof param?param.replace(/-[a-zA-Z]/g,(function(letter){return letter.replace("-","").toUpperCase()})):param.map((function(str){return util.camelToKebabCase(str)}))},createElement:function(elementName){return this._d.createElement(elementName)},createTextNode:function(text){return this._d.createTextNode(text||"")},HTMLEncoder:function(contents){const ec={"<":"$lt;",">":"$gt;"};return contents.replace(/<|>/g,(function(m){return"string"==typeof ec[m]?ec[m]:m}))},HTMLDecoder:function(contents){const ec={"$lt;":"<","$gt;":">"};return contents.replace(/\$lt;|\$gt;/g,(function(m){return"string"==typeof ec[m]?ec[m]:m}))},hasOwn:function(obj,key){return this._hasOwn.call(obj,key)},_hasOwn:Object.prototype.hasOwnProperty,getIncludePath:function(nameArray,extension){let path="";const pathList=[],tagName="js"===extension?"script":"link",src="js"===extension?"src":"href";let fileName="(?:";for(let i=0,len=nameArray.length;i<len;i++)fileName+=nameArray[i]+(i<len-1?"|":")");const regExp=new this._w.RegExp("(^|.*[\\/])"+fileName+"(\\.[^\\/]+)?."+extension+"(?:\\?.*|;.*)?$","i"),extRegExp=new this._w.RegExp(".+\\."+extension+"(?:\\?.*|;.*)?$","i");for(let c=this._d.getElementsByTagName(tagName),i=0;i<c.length;i++)extRegExp.test(c[i][src])&&pathList.push(c[i]);for(let i=0;i<pathList.length;i++){let editorTag=pathList[i][src].match(regExp);if(editorTag){path=editorTag[0];break}}if(""===path&&(path=pathList.length>0?pathList[0][src]:""),-1===path.indexOf(":/")&&"//"!==path.slice(0,2)&&(path=0===path.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+path:location.href.match(/^[^\?]*\/(?:)/)[0]+path),!path)throw"[SUNEDITOR.util.getIncludePath.fail] The SUNEDITOR installation path could not be automatically detected. (name: +"+name+", extension: "+extension+")";return path},getPageStyle:function(doc){let cssText="";const sheets=(doc||this._d).styleSheets;for(let rules,i=0,len=sheets.length;i<len;i++){try{rules=sheets[i].cssRules}catch(e){continue}if(rules)for(let c=0,cLen=rules.length;c<cLen;c++)cssText+=rules[c].cssText}return cssText},getIframeDocument:function(iframe){let wDocument=iframe.contentWindow||iframe.contentDocument;return wDocument.document&&(wDocument=wDocument.document),wDocument},getAttributesToString:function(element,exceptAttrs){if(!element.attributes)return"";const attrs=element.attributes;let attrString="";for(let i=0,len=attrs.length;i<len;i++)exceptAttrs&&exceptAttrs.indexOf(attrs[i].name)>-1||(attrString+=attrs[i].name+'="'+attrs[i].value+'" ');return attrString},getByteLength:function(text){if(!text||!text.toString)return 0;text=text.toString();const encoder=this._w.encodeURIComponent;let cr,cl;return this.isIE_Edge?(cl=this._w.unescape(encoder(text)).length,cr=0,null!==encoder(text).match(/(%0A|%0D)/gi)&&(cr=encoder(text).match(/(%0A|%0D)/gi).length),cl+cr):(cl=new this._w.TextEncoder("utf-8").encode(text).length,cr=0,null!==encoder(text).match(/(%0A|%0D)/gi)&&(cr=encoder(text).match(/(%0A|%0D)/gi).length),cl+cr)},isWysiwygDiv:function(element){return element&&1===element.nodeType&&(this.hasClass(element,"se-wrapper-wysiwyg")||/^BODY$/i.test(element.nodeName))},isNonEditable:function(element){return element&&1===element.nodeType&&"false"===element.getAttribute("contenteditable")},isTextStyleElement:function(element){return element&&3!==element.nodeType&&/^(strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code|summary)$/i.test(element.nodeName)},isFormatElement:function(element){return element&&1===element.nodeType&&(/^(P|DIV|H[1-6]|PRE|LI|TH|TD|DETAILS)$/i.test(element.nodeName)||this.hasClass(element,"(\\s|^)__se__format__replace_.+(\\s|$)|(\\s|^)__se__format__free_.+(\\s|$)"))&&!this.isComponent(element)&&!this.isWysiwygDiv(element)},isRangeFormatElement:function(element){return element&&1===element.nodeType&&(/^(BLOCKQUOTE|OL|UL|FIGCAPTION|TABLE|THEAD|TBODY|TR|TH|TD|DETAILS)$/i.test(element.nodeName)||this.hasClass(element,"(\\s|^)__se__format__range_.+(\\s|$)"))},isClosureRangeFormatElement:function(element){return element&&1===element.nodeType&&(/^(TH|TD)$/i.test(element.nodeName)||this.hasClass(element,"(\\s|^)__se__format__range__closure_.+(\\s|$)"))},isFreeFormatElement:function(element){return element&&1===element.nodeType&&(/^PRE$/i.test(element.nodeName)||this.hasClass(element,"(\\s|^)__se__format__free_.+(\\s|$)"))&&!this.isComponent(element)&&!this.isWysiwygDiv(element)},isClosureFreeFormatElement:function(element){return element&&1===element.nodeType&&this.hasClass(element,"(\\s|^)__se__format__free__closure_.+(\\s|$)")},isComponent:function(element){return element&&(/se-component/.test(element.className)||/^(TABLE|HR)$/.test(element.nodeName))},isUneditableComponent:function(element){return element&&this.hasClass(element,"__se__uneditable")},isMediaComponent:function(element){return element&&/se-component/.test(element.className)},isNotCheckingNode:function(element){return element&&/katex|__se__tag/.test(element.className)},getFormatElement:function(element,validation){if(!element)return null;for(validation||(validation=function(){return!0});element;){if(this.isWysiwygDiv(element))return null;if(this.isRangeFormatElement(element)&&element.firstElementChild,this.isFormatElement(element)&&validation(element))return element;element=element.parentNode}return null},getRangeFormatElement:function(element,validation){if(!element)return null;for(validation||(validation=function(){return!0});element;){if(this.isWysiwygDiv(element))return null;if(this.isRangeFormatElement(element)&&!/^(THEAD|TBODY|TR)$/i.test(element.nodeName)&&validation(element))return element;element=element.parentNode}return null},getFreeFormatElement:function(element,validation){if(!element)return null;for(validation||(validation=function(){return!0});element;){if(this.isWysiwygDiv(element))return null;if(this.isFreeFormatElement(element)&&validation(element))return element;element=element.parentNode}return null},getClosureFreeFormatElement:function(element,validation){if(!element)return null;for(validation||(validation=function(){return!0});element;){if(this.isWysiwygDiv(element))return null;if(this.isClosureFreeFormatElement(element)&&validation(element))return element;element=element.parentNode}return null},copyTagAttributes:function(originEl,copyEl,blacklist){copyEl.style.cssText&&(originEl.style.cssText+=copyEl.style.cssText);const attrs=copyEl.attributes;for(let i=0,len=attrs.length;i<len;i++)blacklist&&blacklist.indexOf(attrs[i].name.toLowerCase())>-1||originEl.setAttribute(attrs[i].name,attrs[i].value);const originAttrs=originEl.attributes;for(let i=0,len=originAttrs.length;i<len;i++)originAttrs[i].value||originEl.removeAttribute(originAttrs[i].name)},copyFormatAttributes:function(originEl,copyEl){(copyEl=copyEl.cloneNode(!1)).className=copyEl.className.replace(/(\s|^)__se__format__[^\s]+/g,""),this.copyTagAttributes(originEl,copyEl)},getArrayItem:function(array,validation,multi){if(!array||0===array.length)return null;validation=validation||function(){return!0};const arr=[];for(let a,i=0,len=array.length;i<len;i++)if(a=array[i],validation(a)){if(!multi)return a;arr.push(a)}return multi?arr:null},arrayIncludes:function(array,element){for(let i=0;i<array.length;i++)if(array[i]===element)return!0;return!1},getArrayIndex:function(array,element){let idx=-1;for(let i=0,len=array.length;i<len;i++)if(array[i]===element){idx=i;break}return idx},nextIdx:function(array,item){let idx=this.getArrayIndex(array,item);return-1===idx?-1:idx+1},prevIdx:function(array,item){let idx=this.getArrayIndex(array,item);return-1===idx?-1:idx-1},getPositionIndex:function(node){let idx=0;for(;node=node.previousSibling;)idx+=1;return idx},getNodePath:function(node,parentNode,_newOffsets){const path=[];let finds=!0;return this.getParentElement(node,function(el){if(el===parentNode&&(finds=!1),finds&&!this.isWysiwygDiv(el)){if(_newOffsets&&3===el.nodeType){let temp=null,tempText=null;_newOffsets.s=_newOffsets.e=0;let previous=el.previousSibling;for(;previous&&3===previous.nodeType;)tempText=previous.textContent.replace(this.zeroWidthRegExp,""),_newOffsets.s+=tempText.length,el.textContent=tempText+el.textContent,temp=previous,previous=previous.previousSibling,this.removeItem(temp);let next=el.nextSibling;for(;next&&3===next.nodeType;)tempText=next.textContent.replace(this.zeroWidthRegExp,""),_newOffsets.e+=tempText.length,el.textContent+=tempText,temp=next,next=next.nextSibling,this.removeItem(temp)}path.push(el)}return!1}.bind(this)),path.map(this.getPositionIndex).reverse()},getNodeFromPath:function(offsets,parentNode){let nodes,current=parentNode;for(let i=0,len=offsets.length;i<len&&(nodes=current.childNodes,0!==nodes.length);i++)current=nodes.length<=offsets[i]?nodes[nodes.length-1]:nodes[offsets[i]];return current},isSameAttributes:function(a,b){if(3===a.nodeType&&3===b.nodeType)return!0;if(3===a.nodeType||3===b.nodeType)return!1;const style_a=a.style,style_b=b.style;let compStyle=0;for(let i=0,len=style_a.length;i<len;i++)style_a[style_a[i]]===style_b[style_a[i]]&&compStyle++;const class_a=a.classList,class_b=b.classList,reg=this._w.RegExp;let compClass=0;for(let i=0,len=class_a.length;i<len;i++)reg("(s|^)"+class_a[i]+"(s|$)").test(class_b.value)&&compClass++;return compStyle===style_b.length&&compStyle===style_a.length&&compClass===class_b.length&&compClass===class_a.length},isEmptyLine:function(element){return!element||!element.parentNode||!element.querySelector("IMG, IFRAME, AUDIO, VIDEO, CANVAS, TABLE")&&0===element.children.length&&this.onlyZeroWidthSpace(element.textContent)},isSpanWithoutAttr:function(element){return!!element&&1===element.nodeType&&/^SPAN$/i.test(element.nodeName)&&!element.className&&!element.style.cssText},isList:function(node){return node&&/^(OL|UL)$/i.test("string"==typeof node?node:node.nodeName)},isListCell:function(node){return node&&/^LI$/i.test("string"==typeof node?node:node.nodeName)},isTable:function(node){return node&&/^(TABLE|THEAD|TBODY|TR|TH|TD)$/i.test("string"==typeof node?node:node.nodeName)},isCell:function(node){return node&&/^(TD|TH)$/i.test("string"==typeof node?node:node.nodeName)},isBreak:function(node){return node&&/^BR$/i.test("string"==typeof node?node:node.nodeName)},isAnchor:function(node){return node&&/^A$/i.test("string"==typeof node?node:node.nodeName)},isMedia:function(node){return node&&/^(IMG|IFRAME|AUDIO|VIDEO|CANVAS)$/i.test("string"==typeof node?node:node.nodeName)},isNumber:function(text){return!!text&&/^-?\d+(\.\d+)?$/.test(text+"")},getNumber:function(text,maxDec){if(!text)return 0;let number=(text+"").match(/-?\d+(\.\d+)?/);return number&&number[0]?(number=number[0],maxDec<0?1*number:0===maxDec?this._w.Math.round(1*number):1*(1*number).toFixed(maxDec)):0},getListChildren:function(element,validation){const children=[];return element&&element.children&&0!==element.children.length?(validation=validation||function(){return!0},function recursionFunc(current){if(element!==current&&validation(current)&&children.push(current),current.children)for(let i=0,len=current.children.length;i<len;i++)recursionFunc(current.children[i])}(element),children):children},getListChildNodes:function(element,validation){const children=[];return element&&0!==element.childNodes.length?(validation=validation||function(){return!0},function recursionFunc(current){element!==current&&validation(current)&&children.push(current);for(let i=0,len=current.childNodes.length;i<len;i++)recursionFunc(current.childNodes[i])}(element),children):children},getElementDepth:function(element){if(!element||this.isWysiwygDiv(element))return-1;let depth=0;for(element=element.parentNode;element&&!this.isWysiwygDiv(element);)depth+=1,element=element.parentNode;return depth},compareElements:function(a,b){let aNode=a,bNode=b;for(;aNode&&bNode&&aNode.parentNode!==bNode.parentNode;)aNode=aNode.parentNode,bNode=bNode.parentNode;if(!aNode||!bNode)return{ancestor:null,a,b,result:0};const children=aNode.parentNode.childNodes,aIndex=this.getArrayIndex(children,aNode),bIndex=this.getArrayIndex(children,bNode);return{ancestor:aNode.parentNode,a:aNode,b:bNode,result:aIndex>bIndex?1:aIndex<bIndex?-1:0}},getParentElement:function(element,query){let check;if("function"==typeof query)check=query;else{let attr;/^\./.test(query)?(attr="className",query=query.split(".")[1]):/^#/.test(query)?(attr="id",query="^"+query.split("#")[1]+"$"):/^:/.test(query)?(attr="name",query="^"+query.split(":")[1]+"$"):(attr="nodeName",query="^"+query+"$");const regExp=new this._w.RegExp(query,"i");check=function(el){return regExp.test(el[attr])}}for(;element&&!check(element);){if(this.isWysiwygDiv(element))return null;element=element.parentNode}return element},getChildElement:function(element,query,last){let check;if("function"==typeof query)check=query;else{let attr;/^\./.test(query)?(attr="className",query=query.split(".")[1]):/^#/.test(query)?(attr="id",query="^"+query.split("#")[1]+"$"):/^:/.test(query)?(attr="name",query="^"+query.split(":")[1]+"$"):(attr="nodeName",query="^"+("text"===query?"#"+query:query)+"$");const regExp=new this._w.RegExp(query,"i");check=function(el){return regExp.test(el[attr])}}const childList=this.getListChildNodes(element,(function(current){return check(current)}));return childList[last?childList.length-1:0]},getEdgeChildNodes:function(first,last){if(first){for(last||(last=first);first&&1===first.nodeType&&first.childNodes.length>0&&!this.isBreak(first);)first=first.firstChild;for(;last&&1===last.nodeType&&last.childNodes.length>0&&!this.isBreak(last);)last=last.lastChild;return{sc:first,ec:last||first}}},getOffset:function(element,wysiwygFrame){let offsetLeft=0,offsetTop=0,offsetElement=3===element.nodeType?element.parentElement:element;const wysiwyg=this.getParentElement(element,this.isWysiwygDiv.bind(this));for(;offsetElement&&!this.hasClass(offsetElement,"se-container")&&offsetElement!==wysiwyg;)offsetLeft+=offsetElement.offsetLeft,offsetTop+=offsetElement.offsetTop,offsetElement=offsetElement.offsetParent;const iframe=wysiwygFrame&&/iframe/i.test(wysiwygFrame.nodeName);return{left:offsetLeft+(iframe?wysiwygFrame.parentElement.offsetLeft:0),top:offsetTop-(wysiwyg?wysiwyg.scrollTop:0)+(iframe?wysiwygFrame.parentElement.offsetTop:0)}},getOverlapRangeAtIndex:function(aStart,aEnd,bStart,bEnd){if(aStart<=bEnd?aEnd<bStart:aEnd>bStart)return 0;const overlap=(aStart>bStart?aStart:bStart)-(aEnd<bEnd?aEnd:bEnd);return(overlap<0?-1*overlap:overlap)+1},changeTxt:function(element,txt){element&&txt&&(element.textContent=txt)},changeElement:function(element,newElement){if("string"==typeof newElement)if(element.outerHTML)element.outerHTML=newElement;else{const doc=this.createElement("DIV");doc.innerHTML=newElement,newElement=doc.firstChild,element.parentNode.replaceChild(newElement,element)}else 1===newElement.nodeType&&element.parentNode.replaceChild(newElement,element)},setStyle:function(element,styleName,value){element.style[styleName]=value,value||element.style.cssText||element.removeAttribute("style")},hasClass:function(element,className){if(element)return new this._w.RegExp(className).test(element.className)},addClass:function(element,className){if(!element)return;new this._w.RegExp("(\\s|^)"+className+"(\\s|$)").test(element.className)||(element.className+=(element.className.length>0?" ":"")+className)},removeClass:function(element,className){if(!element)return;const check=new this._w.RegExp("(\\s|^)"+className+"(\\s|$)");element.className=element.className.replace(check," ").trim(),element.className.trim()||element.removeAttribute("class")},toggleClass:function(element,className){if(!element)return;let result=!1;const check=new this._w.RegExp("(\\s|^)"+className+"(\\s|$)");return check.test(element.className)?element.className=element.className.replace(check," ").trim():(element.className+=" "+className,result=!0),element.className.trim()||element.removeAttribute("class"),result},isImportantDisabled:function(element){return element.hasAttribute("data-important-disabled")},setDisabledButtons:function(disabled,buttonList,important){for(let i=0,len=buttonList.length;i<len;i++){let button=buttonList[i];!important&&this.isImportantDisabled(button)||(button.disabled=disabled),important&&(disabled?button.setAttribute("data-important-disabled",""):button.removeAttribute("data-important-disabled"))}},removeItem:function(item){item&&("function"==typeof item.remove?item.remove():item.parentNode&&item.parentNode.removeChild(item))},removeItemAllParents:function(item,validation,stopParent){if(!item)return null;let cc=null;return validation||(validation=function(current){if(current===stopParent||this.isComponent(current))return!1;const text=current.textContent.trim();return 0===text.length||/^(\n|\u200B)+$/.test(text)}.bind(this)),function recursionFunc(element){if(!util.isWysiwygDiv(element)){const parent=element.parentNode;parent&&validation(element)&&(cc={sc:element.previousElementSibling,ec:element.nextElementSibling},util.removeItem(element),recursionFunc(parent))}}(item),cc},detachNestedList:function(baseNode,all){const rNode=this._deleteNestedList(baseNode);let rangeElement,cNodes,rChildren;if(rNode){rangeElement=rNode.cloneNode(!1),cNodes=rNode.childNodes;const index=this.getPositionIndex(baseNode);for(;cNodes[index];)rangeElement.appendChild(cNodes[index])}else rangeElement=baseNode;if(all)rChildren=this.getListChildren(rangeElement,function(current){return this.isListCell(current)&&!current.previousElementSibling}.bind(this));else{const depth=this.getElementDepth(baseNode)+2;rChildren=this.getListChildren(baseNode,function(current){return this.isListCell(current)&&!current.previousElementSibling&&this.getElementDepth(current)===depth}.bind(this))}for(let i=0,len=rChildren.length;i<len;i++)this._deleteNestedList(rChildren[i]);return rNode&&(rNode.parentNode.insertBefore(rangeElement,rNode.nextSibling),cNodes&&0===cNodes.length&&this.removeItem(rNode)),rangeElement===baseNode?rangeElement.parentNode:rangeElement},_deleteNestedList:function(baseNode){const baseParent=baseNode.parentNode;let liSibling,liParent,child,index,c,sibling=baseParent,parent=sibling.parentNode;for(;this.isListCell(parent);){for(index=this.getPositionIndex(baseNode),liSibling=parent.nextElementSibling,liParent=parent.parentNode,child=sibling;child;){if(sibling=sibling.nextSibling,this.isList(child)){for(c=child.childNodes;c[index];)liParent.insertBefore(c[index],liSibling);0===c.length&&this.removeItem(child)}else liParent.appendChild(child);child=sibling}sibling=liParent,parent=liParent.parentNode}return 0===baseParent.children.length&&this.removeItem(baseParent),liParent},splitElement:function(baseNode,offset,depth){if(this.isWysiwygDiv(baseNode))return baseNode;if(offset&&!this.isNumber(offset)){const children=baseNode.childNodes;let index=this.getPositionIndex(offset);const prev=baseNode.cloneNode(!1),next=baseNode.cloneNode(!1);for(let i=0,len=children.length;i<len;i++){if(i<index)prev.appendChild(children[i]);else{if(!(i>index))continue;next.appendChild(children[i])}i--,len--,index--}return prev.childNodes.length>0&&baseNode.parentNode.insertBefore(prev,baseNode),next.childNodes.length>0&&baseNode.parentNode.insertBefore(next,baseNode.nextElementSibling),baseNode}const bp=baseNode.parentNode;let newEl,children,temp,index=0,next=!0;if((!depth||depth<0)&&(depth=0),3===baseNode.nodeType){if(index=this.getPositionIndex(baseNode),offset>=0&&baseNode.length!==offset){baseNode.splitText(offset);const after=this.getNodeFromPath([index+1],bp);this.onlyZeroWidthSpace(after)&&(after.data=this.zeroWidthSpace)}}else 1===baseNode.nodeType&&(baseNode.previousSibling?baseNode=baseNode.previousSibling:this.getElementDepth(baseNode)===depth&&(next=!1));let depthEl=baseNode;for(;this.getElementDepth(depthEl)>depth;)for(index=this.getPositionIndex(depthEl)+1,depthEl=depthEl.parentNode,temp=newEl,newEl=depthEl.cloneNode(!1),children=depthEl.childNodes,temp&&(this.isListCell(newEl)&&this.isList(temp)&&temp.firstElementChild?(newEl.innerHTML=temp.firstElementChild.innerHTML,util.removeItem(temp.firstElementChild),temp.children.length>0&&newEl.appendChild(temp)):newEl.appendChild(temp));children[index];)newEl.appendChild(children[index]);depthEl.childNodes.length<=1&&(!depthEl.firstChild||0===depthEl.firstChild.textContent.length)&&(depthEl.innerHTML="<br>");const pElement=depthEl.parentNode;return next&&(depthEl=depthEl.nextSibling),newEl?(this.mergeSameTags(newEl,null,!1),this.mergeNestedTags(newEl,function(current){return this.isList(current)}.bind(this)),newEl.childNodes.length>0?pElement.insertBefore(newEl,depthEl):newEl=depthEl,0===bp.childNodes.length&&this.removeItem(bp),newEl):depthEl},mergeSameTags:function(element,nodePathArray,onlyText){const inst=this,nodePathLen=nodePathArray?nodePathArray.length:0;let offsets=null;return nodePathLen&&(offsets=this._w.Array.apply(null,new this._w.Array(nodePathLen)).map(this._w.Number.prototype.valueOf,0)),function recursionFunc(current,depth,depthIndex){const children=current.childNodes;for(let child,next,i=0,len=children.length;i<len&&(child=children[i],next=children[i+1],child);i++)if(onlyText&&inst._isIgnoreNodeChange(child)||!onlyText&&(inst.isTable(child)||inst.isListCell(child)||inst.isFormatElement(child)&&!inst.isFreeFormatElement(child)))(inst.isTable(child)||inst.isListCell(child))&&recursionFunc(child,depth+1,i);else{if(1===len&&current.nodeName===child.nodeName&&current.parentNode){if(nodePathLen){let path,c,p,cDepth,spliceDepth;for(let n=0;n<nodePathLen;n++)if(path=nodePathArray[n],path&&path[depth]===i){for(c=child,p=current,cDepth=depth,spliceDepth=!0;cDepth>=0;){if(inst.getArrayIndex(p.childNodes,c)!==path[cDepth]){spliceDepth=!1;break}c=child.parentNode,p=c.parentNode,cDepth--}spliceDepth&&(path.splice(depth,1),path[depth]=i)}}inst.copyTagAttributes(child,current),current.parentNode.insertBefore(child,current),inst.removeItem(current)}if(!next){1===child.nodeType&&recursionFunc(child,depth+1,i);break}if(child.nodeName===next.nodeName&&inst.isSameAttributes(child,next)&&child.href===next.href){const childs=child.childNodes;let childLength=0;for(let n=0,nLen=childs.length;n<nLen;n++)childs[n].textContent.length>0&&childLength++;const l=child.lastChild,r=next.firstChild;let addOffset=0;if(l&&r){const textOffset=3===l.nodeType&&3===r.nodeType;addOffset=l.textContent.length;let tempL=l.previousSibling;for(;tempL&&3===tempL.nodeType;)addOffset+=tempL.textContent.length,tempL=tempL.previousSibling;if(childLength>0&&3===l.nodeType&&3===r.nodeType&&(l.textContent.length>0||r.textContent.length>0)&&childLength--,nodePathLen){let path=null;for(let n=0;n<nodePathLen;n++)if(path=nodePathArray[n],path&&path[depth]>i){if(depth>0&&path[depth-1]!==depthIndex)continue;path[depth]-=1,path[depth+1]>=0&&path[depth]===i&&(path[depth+1]+=childLength,textOffset&&l&&3===l.nodeType&&r&&3===r.nodeType&&(offsets[n]+=addOffset))}}}if(3===child.nodeType){if(addOffset=child.textContent.length,child.textContent+=next.textContent,nodePathLen){let path=null;for(let n=0;n<nodePathLen;n++)if(path=nodePathArray[n],path&&path[depth]>i){if(depth>0&&path[depth-1]!==depthIndex)continue;path[depth]-=1,path[depth+1]>=0&&path[depth]===i&&(path[depth+1]+=childLength,offsets[n]+=addOffset)}}}else child.innerHTML+=next.innerHTML;inst.removeItem(next),i--}else 1===child.nodeType&&recursionFunc(child,depth+1,i)}}(element,0,0),offsets},mergeNestedTags:function(element,validation){"string"==typeof validation?validation=function(current){return this.test(current.tagName)}.bind(new this._w.RegExp("^("+(validation||".+")+")$","i")):"function"!=typeof validation&&(validation=function(){return!0}),function recursionFunc(current){let children=current.children;if(1===children.length&&children[0].nodeName===current.nodeName&&validation(current)){const temp=children[0];for(children=temp.children;children[0];)current.appendChild(children[0]);current.removeChild(temp)}for(let i=0,len=current.children.length;i<len;i++)recursionFunc(current.children[i])}(element)},removeEmptyNode:function(element,notRemoveNode,forceDelete){const inst=this;notRemoveNode&&(notRemoveNode=inst.getParentElement(notRemoveNode,(function(current){return element===current.parentElement}))),function recursionFunc(current){if(inst._notTextNode(current)||current===notRemoveNode||inst.isNonEditable(current))return 0;if(current===element||!inst.onlyZeroWidthSpace(current.textContent)||current.firstChild&&inst.isBreak(current.firstChild)||current.querySelector(inst._allowedEmptyNodeList)){const children=current.children;for(let i=0,len=children.length,r=0;i<len;i++)children[i+r]&&!inst.isComponent(children[i+r])&&(r+=recursionFunc(children[i+r]))}else if(current.parentNode)return current.parentNode.removeChild(current),-1;return 0}(element),0===element.childNodes.length&&(forceDelete?this.removeItem(element):element.innerHTML="<br>")},htmlRemoveWhiteSpace:function(html){return html?html.trim().replace(/<\/?(?!strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code|summary)[^>^<]+>\s+(?=<)/gi,(function(m){return m.replace(/\n/g,"").replace(/\s+/," ")})):""},sortByDepth:function(array,des){const t=des?1:-1,f=-1*t;array.sort(function(a,b){return this.isListCell(a)&&this.isListCell(b)?(a=this.getElementDepth(a))>(b=this.getElementDepth(b))?t:a<b?f:0:0}.bind(this))},_isIgnoreNodeChange:function(element){return element&&3!==element.nodeType&&(this.isNonEditable(element)||!this.isTextStyleElement(element))},_isMaintainedNode:function(element){return element&&3!==element.nodeType&&/^(a|label|code|summary)$/i.test("string"==typeof element?element:element.nodeName)},_isSizeNode:function(element){return element&&3!==element.nodeType&&this.isTextStyleElement(element)&&!!element.style.fontSize},_notTextNode:function(element){return element&&3!==element.nodeType&&(this.isComponent(element)||/^(br|input|select|canvas|img|iframe|audio|video)$/i.test("string"==typeof element?element:element.nodeName))},_disallowedTags:function(element){return/^(meta|script|link|style|[a-z]+\:[a-z]+)$/i.test(element.nodeName)},createTagsWhitelist:function(list){return new RegExp("<\\/?\\b(?!\\b"+(list||"").replace(/\|/g,"\\b|\\b")+"\\b)[^>]*>","gi")},createTagsBlacklist:function(list){return new RegExp("<\\/?\\b(?:\\b"+(list||"^").replace(/\|/g,"\\b|\\b")+"\\b)[^>]*>","gi")},_consistencyCheckOfHTML:function(documentFragment,htmlCheckWhitelistRegExp,htmlCheckBlacklistRegExp,lowLevelCheck){const removeTags=[],emptyTags=[],wrongList=[],withoutFormatCells=[],wrongTags=this.getListChildNodes(documentFragment,function(current){if(1!==current.nodeType)return this.isList(current.parentElement)&&removeTags.push(current),!1;if(htmlCheckBlacklistRegExp.test(current.nodeName)||!htmlCheckWhitelistRegExp.test(current.nodeName)&&0===current.childNodes.length&&this.isNotCheckingNode(current))return removeTags.push(current),!1;const nrtag=!this.getParentElement(current,this.isNotCheckingNode);if(!this.isTable(current)&&!this.isListCell(current)&&!this.isAnchor(current)&&(this.isFormatElement(current)||this.isRangeFormatElement(current)||this.isTextStyleElement(current))&&0===current.childNodes.length&&nrtag)return emptyTags.push(current),!1;if(this.isList(current.parentNode)&&!this.isList(current)&&!this.isListCell(current))return wrongList.push(current),!1;if(this.isCell(current)){const fel=current.firstElementChild;if(!this.isFormatElement(fel)&&!this.isRangeFormatElement(fel)&&!this.isComponent(fel))return withoutFormatCells.push(current),!1}if(lowLevelCheck&&nrtag&&current.className){const className=new this._w.Array(current.classList).map(this._classNameFilter).join(" ").trim();className?current.className=className:current.removeAttribute("class")}return current.parentNode!==documentFragment&&nrtag&&(this.isListCell(current)&&!this.isList(current.parentNode)||lowLevelCheck&&(this.isFormatElement(current)||this.isComponent(current))&&!this.isRangeFormatElement(current.parentNode)&&!this.getParentElement(current,this.isComponent))}.bind(this));for(let i=0,len=removeTags.length;i<len;i++)this.removeItem(removeTags[i]);const checkTags=[];for(let t,p,i=0,len=wrongTags.length;i<len;i++)if(t=wrongTags[i],p=t.parentNode,p&&p.parentNode)if(this.getParentElement(t,this.isListCell)){const cellChildren=t.childNodes;for(let j=cellChildren.length-1;len>=0;j--)p.insertBefore(t,cellChildren[j]);checkTags.push(t)}else p.parentNode.insertBefore(t,p),checkTags.push(p);for(let t,i=0,len=checkTags.length;i<len;i++)t=checkTags[i],this.onlyZeroWidthSpace(t.textContent.trim())&&this.removeItem(t);for(let i=0,len=emptyTags.length;i<len;i++)this.removeItem(emptyTags[i]);for(let t,tp,children,p,i=0,len=wrongList.length;i<len;i++)if(t=wrongList[i],p=t.parentNode,p)if(tp=this.createElement("LI"),this.isFormatElement(t)){for(children=t.childNodes;children[0];)tp.appendChild(children[0]);p.insertBefore(tp,t),this.removeItem(t)}else t=t.nextSibling,tp.appendChild(wrongList[i]),p.insertBefore(tp,t);for(let t,f,i=0,len=withoutFormatCells.length;i<len;i++)t=withoutFormatCells[i],f=this.createElement("DIV"),f.innerHTML=0===t.textContent.trim().length&&0===t.children.length?"<br>":t.innerHTML,t.innerHTML=f.outerHTML},_classNameFilter:function(v){return/(^__se__|^se-|katex)/.test(v)?v:""},_setDefaultOptionStyle:function(options,defaultStyle){let optionStyle="";options.height&&(optionStyle+="height:"+options.height+";"),options.minHeight&&(optionStyle+="min-height:"+options.minHeight+";"),options.maxHeight&&(optionStyle+="max-height:"+options.maxHeight+";"),options.position&&(optionStyle+="position:"+options.position+";"),options.width&&(optionStyle+="width:"+options.width+";"),options.minWidth&&(optionStyle+="min-width:"+options.minWidth+";"),options.maxWidth&&(optionStyle+="max-width:"+options.maxWidth+";");let top="",frame="",editor="";const styleArr=(defaultStyle=optionStyle+defaultStyle).split(";");for(let s,i=0,len=styleArr.length;i<len;i++)s=styleArr[i].trim(),s&&(/^(min-|max-)?width\s*:/.test(s)||/^(z-index|position)\s*:/.test(s)?top+=s+";":/^(min-|max-)?height\s*:/.test(s)?(/^height/.test(s)&&"auto"===s.split(":")[1].trim()&&(options.height="auto"),frame+=s+";"):editor+=s+";");return{top,frame,editor}},_setIframeDocument:function(frame,options){frame.setAttribute("scrolling","auto"),frame.contentDocument.head.innerHTML='<meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">'+this._setIframeCssTags(options),frame.contentDocument.body.className=options._editableClass,frame.contentDocument.body.setAttribute("contenteditable",!0)},_setIframeCssTags:function(options){const linkNames=options.iframeCSSFileName,wRegExp=this._w.RegExp;let tagString="";for(let path,f=0,len=linkNames.length;f<len;f++){if(path=[],/(^https?:\/\/)|(^data:text\/css,)/.test(linkNames[f]))path.push(linkNames[f]);else{const CSSFileName=new wRegExp("(^|.*[\\/])"+linkNames[f]+"(\\..+)?\\.css(?:\\?.*|;.*)?$","i");for(let styleTag,c=document.getElementsByTagName("link"),i=0,len=c.length;i<len;i++)styleTag=c[i].href.match(CSSFileName),styleTag&&path.push(styleTag[0])}if(!path||0===path.length)throw'[SUNEDITOR.constructor.iframe.fail] The suneditor CSS files installation path could not be automatically detected. Please set the option property "iframeCSSFileName" before creating editor instances.';for(let i=0,len=path.length;i<len;i++)tagString+='<link href="'+path[i]+'" rel="stylesheet">'}return tagString+("auto"===options.height?"<style>\n/** Iframe height auto */\nbody{height: min-content; overflow: hidden;}\n</style>":"")}},__WEBPACK_DEFAULT_EXPORT__=util}}]);