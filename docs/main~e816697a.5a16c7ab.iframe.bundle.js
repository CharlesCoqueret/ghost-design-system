(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{"./src/Components/Organisms/DataTable/EditableDataTable/EditableDataTable.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _EditableDataTable__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/Components/Organisms/DataTable/EditableDataTable/EditableDataTable.tsx"),_Common_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/Components/Organisms/DataTable/Common/types.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"Organism/DataTable/EditableDataTable",component:_EditableDataTable__WEBPACK_IMPORTED_MODULE_4__.a,parameters:{storySource:{source:"import React, { ReactElement } from 'react';\nimport { ComponentStory, ComponentMeta } from '@storybook/react';\n\nimport EditableDataTable, { IEditableDataTableProps } from './EditableDataTable';\nimport { ColumnType, IColumnType } from '../Common/types';\n\nexport default {\n  title: 'Organism/DataTable/EditableDataTable',\n  component: EditableDataTable,\n  parameters: { actions: { argTypesRegex: '^on.*' }, controls: { sort: 'requiredFirst' } },\n} as ComponentMeta<typeof EditableDataTable>;\n\ninterface IDemoType {\n  id: string;\n  name: string;\n  status: string;\n  price: number;\n  parts: number;\n  startDate: Date;\n}\n\nconst initialData = [\n  {\n    id: 'UGA',\n    name: 'Lorem ipsum dolor sit amet consectetur adipiscing elit',\n    status: 'INACTIVE',\n    price: -100000,\n    parts: -10,\n    startDate: new Date(2021, 2, 24),\n  },\n  {\n    id: 'ARE',\n    name: 'Consecte',\n    status: 'ACTIVE',\n    price: -2500000,\n    parts: 15,\n    startDate: new Date(2021, 1, 13),\n  },\n  {\n    id: 'GBR',\n    name: 'Sed',\n    status: 'IN_PROGRESS',\n    price: 150000,\n    parts: 3,\n    startDate: new Date(2021, 1, 4),\n  },\n  {\n    id: 'JUF',\n    name: 'dolore eu fugiat nulla pariatur',\n    status: 'IN_PROGRESS',\n    price: -354000,\n    parts: 70,\n    startDate: new Date(2021, 1, 15),\n  },\n  {\n    id: 'YAI',\n    name: 'Sed ut perspiciatis',\n    status: 'ACTIVE',\n    price: 4150000,\n    parts: 30,\n    startDate: new Date(2021, 2, 17),\n  },\n  {\n    id: 'SML',\n    name: 'Ut enim ad minima veniam',\n    status: 'ACTIVE',\n    price: -70500,\n    parts: 10,\n    startDate: new Date(2021, 3, 10),\n  },\n];\n\nconst Template: ComponentStory<(arg: IEditableDataTableProps<IDemoType>) => ReactElement> = (\n  args: IEditableDataTableProps<IDemoType>,\n) => {\n  return <EditableDataTable<IDemoType> {...args} />;\n};\n\nconst columns: IColumnType<IDemoType>[] = [\n  {\n    title: 'Code',\n    dataIndex: 'id',\n    sorter: true,\n    type: ColumnType.CODE,\n  },\n  {\n    title: 'Text',\n    dataIndex: 'name',\n    type: ColumnType.TEXT,\n    ellipsis: true,\n    sorter: true,\n    editable: true,\n  },\n  {\n    title: 'Badge',\n    dataIndex: 'status',\n    sorter: true,\n    type: ColumnType.BADGE,\n    editable: true,\n    options: [\n      { label: 'Inactive', value: 'INACTIVE' },\n      { label: 'In progress', value: 'IN_PROGRESS' },\n      { label: 'Active', value: 'ACTIVE' },\n    ],\n  },\n  {\n    title: 'Amount',\n    dataIndex: 'price',\n    sorter: true,\n    type: ColumnType.AMOUNT,\n    currency: '€',\n  },\n  {\n    title: 'Percentage',\n    dataIndex: 'parts',\n    sorter: true,\n    type: ColumnType.PERCENTAGE,\n    editable: true,\n  },\n  {\n    title: 'Date',\n    dataIndex: 'startDate',\n    sorter: true,\n    type: ColumnType.DATE,\n    editable: true,\n  },\n];\n\nexport const Default = Template.bind({});\nDefault.args = {\n  columns: columns,\n  data: initialData,\n  extra: {\n    onEdit: () => {\n      return;\n    },\n    canAddNewLine: () => true,\n    onRowDelete: () => {\n      return;\n    },\n    onNewLine: () => {\n      return {\n        id: 'TEST',\n      };\n    },\n    isEditable: (row) => {\n      return row.id !== 'GBR';\n    },\n  },\n};\n",locationsMap:{default:{startLoc:{col:92,line:73},endLoc:{col:1,line:77},startBody:{col:92,line:73},endBody:{col:1,line:77}}}},actions:{argTypesRegex:"^on.*"},controls:{sort:"requiredFirst"}}};var initialData=[{id:"UGA",name:"Lorem ipsum dolor sit amet consectetur adipiscing elit",status:"INACTIVE",price:-1e5,parts:-10,startDate:new Date(2021,2,24)},{id:"ARE",name:"Consecte",status:"ACTIVE",price:-25e5,parts:15,startDate:new Date(2021,1,13)},{id:"GBR",name:"Sed",status:"IN_PROGRESS",price:15e4,parts:3,startDate:new Date(2021,1,4)},{id:"JUF",name:"dolore eu fugiat nulla pariatur",status:"IN_PROGRESS",price:-354e3,parts:70,startDate:new Date(2021,1,15)},{id:"YAI",name:"Sed ut perspiciatis",status:"ACTIVE",price:415e4,parts:30,startDate:new Date(2021,2,17)},{id:"SML",name:"Ut enim ad minima veniam",status:"ACTIVE",price:-70500,parts:10,startDate:new Date(2021,3,10)}],Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_EditableDataTable__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},args))};Template.displayName="Template";var columns=[{title:"Code",dataIndex:"id",sorter:!0,type:_Common_types__WEBPACK_IMPORTED_MODULE_5__.a.CODE},{title:"Text",dataIndex:"name",type:_Common_types__WEBPACK_IMPORTED_MODULE_5__.a.TEXT,ellipsis:!0,sorter:!0,editable:!0},{title:"Badge",dataIndex:"status",sorter:!0,type:_Common_types__WEBPACK_IMPORTED_MODULE_5__.a.BADGE,editable:!0,options:[{label:"Inactive",value:"INACTIVE"},{label:"In progress",value:"IN_PROGRESS"},{label:"Active",value:"ACTIVE"}]},{title:"Amount",dataIndex:"price",sorter:!0,type:_Common_types__WEBPACK_IMPORTED_MODULE_5__.a.AMOUNT,currency:"€"},{title:"Percentage",dataIndex:"parts",sorter:!0,type:_Common_types__WEBPACK_IMPORTED_MODULE_5__.a.PERCENTAGE,editable:!0},{title:"Date",dataIndex:"startDate",sorter:!0,type:_Common_types__WEBPACK_IMPORTED_MODULE_5__.a.DATE,editable:!0}],Default=Template.bind({});Default.args={columns:columns,data:initialData,extra:{onEdit:function onEdit(){},canAddNewLine:function canAddNewLine(){return!0},onRowDelete:function onRowDelete(){},onNewLine:function onNewLine(){return{id:"TEST"}},isEditable:function isEditable(row){return"GBR"!==row.id}}},Default.parameters=Object.assign({storySource:{source:"(\n  args: IEditableDataTableProps<IDemoType>,\n) => {\n  return <EditableDataTable<IDemoType> {...args} />;\n}"}},Default.parameters)},"./src/Components/Organisms/DataTable/EditableDataTable/EditableDataTable.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react=__webpack_require__("./node_modules/react/index.js"),Button=__webpack_require__("./src/Components/Molecules/Button/Button.tsx"),use_prop_state=__webpack_require__("./src/hooks/use-prop-state.ts"),StaticDataTableFooter=__webpack_require__("./src/Components/Organisms/DataTable/StaticDataTable/StaticDataTableFooter.tsx"),StaticDataTableHeader=__webpack_require__("./src/Components/Organisms/DataTable/StaticDataTable/StaticDataTableHeader.tsx"),types=__webpack_require__("./src/Components/Organisms/DataTable/Common/types.ts"),classnames=(__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/classnames/index.js")),classnames_default=__webpack_require__.n(classnames),DataTableCellSelectable=__webpack_require__("./src/Components/Organisms/DataTable/Common/DataTableCellSelectable.tsx"),Cells=__webpack_require__("./src/Components/Organisms/DataTable/Common/Cells/index.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),EditableDataTableCell_EditableDataTableCell=function EditableDataTableCell(props){var column=props.column,dataTestId=props.dataTestId,editable=props.editable,row=props.row,extra=props.extra,rowIndex=props.rowIndex,handleUpdateDataChange=props.handleUpdateDataChange;switch(column.type){case types.a.AMOUNT:return Object(jsx_runtime.jsx)(Cells.a,{column:column,dataTestId:dataTestId?dataTestId+"-"+column.title+"-"+rowIndex:void 0,row:row,extra:extra,rowIndex:rowIndex,onChange:function onChange(newValue){handleUpdateDataChange(rowIndex,column.dataIndex,newValue)},editing:column.editable&&editable});case types.a.BADGE:return Object(jsx_runtime.jsx)(Cells.b,{column:column,dataTestId:dataTestId?dataTestId+"-"+column.title+"-"+rowIndex:void 0,row:row,extra:extra,rowIndex:rowIndex,onChange:function onChange(newValue){handleUpdateDataChange(rowIndex,column.dataIndex,newValue)},editing:column.editable&&editable});case types.a.BUTTON:return Object(jsx_runtime.jsx)(Cells.c,{column:column,dataTestId:dataTestId?dataTestId+"-"+column.title+"-"+rowIndex:void 0,row:row,extra:extra,rowIndex:rowIndex});case types.a.CODE:return Object(jsx_runtime.jsx)(Cells.e,{column:column,dataTestId:dataTestId?dataTestId+"-"+column.title+"-"+rowIndex:void 0,row:row,extra:extra,rowIndex:rowIndex});case types.a.CHECKBOX:return Object(jsx_runtime.jsx)(Cells.d,{column:column,dataTestId:dataTestId?dataTestId+"-"+column.title+"-"+rowIndex:void 0,row:row,extra:extra,rowIndex:rowIndex,onChange:function onChange(newValue){handleUpdateDataChange(rowIndex,column.dataIndex,newValue)},editing:column.editable&&editable});case types.a.CUSTOM:return Object(jsx_runtime.jsx)(Cells.f,{column:column,dataTestId:dataTestId?dataTestId+"-"+column.title+"-"+rowIndex:void 0,row:row,extra:extra,rowIndex:rowIndex,onChange:function onChange(newValue){handleUpdateDataChange(rowIndex,column.dataIndex,newValue)},editing:column.editable&&editable});case types.a.DATE:return Object(jsx_runtime.jsx)(Cells.g,{column:column,dataTestId:dataTestId?dataTestId+"-"+column.title+"-"+rowIndex:void 0,row:row,extra:extra,rowIndex:rowIndex,onChange:function onChange(newValue){handleUpdateDataChange(rowIndex,column.dataIndex,newValue)},editing:column.editable&&editable});case types.a.DYNAMICSEARCH:return Object(jsx_runtime.jsx)(Cells.h,{column:column,dataTestId:dataTestId?dataTestId+"-"+column.title+"-"+rowIndex:void 0,row:row,extra:extra,rowIndex:rowIndex,onChange:function onChange(newValue){handleUpdateDataChange(rowIndex,column.dataIndex,newValue)},editing:column.editable&&editable});case types.a.NUMBER:return Object(jsx_runtime.jsx)(Cells.i,{column:column,dataTestId:dataTestId?dataTestId+"-"+column.title+"-"+rowIndex:void 0,row:row,extra:extra,rowIndex:rowIndex,onChange:function onChange(newValue){handleUpdateDataChange(rowIndex,column.dataIndex,newValue)},editing:column.editable&&editable});case types.a.PERCENTAGE:return Object(jsx_runtime.jsx)(Cells.j,{column:column,dataTestId:dataTestId?dataTestId+"-"+column.title+"-"+rowIndex:void 0,row:row,extra:extra,rowIndex:rowIndex,onChange:function onChange(newValue){handleUpdateDataChange(rowIndex,column.dataIndex,newValue)},editing:column.editable&&editable});case types.a.TEXT:return Object(jsx_runtime.jsx)(Cells.l,{column:column,dataTestId:dataTestId?dataTestId+"-"+column.title+"-"+rowIndex:void 0,row:row,extra:extra,rowIndex:rowIndex,onChange:function onChange(newValue){handleUpdateDataChange(rowIndex,column.dataIndex,newValue)},editing:column.editable&&editable});default:throw new Error("Missing ColumnType")}throw new Error("Should have returned by then")},EditableDataTable_EditableDataTableCell=EditableDataTableCell_EditableDataTableCell;try{EditableDataTableCell_EditableDataTableCell.displayName="EditableDataTableCell",EditableDataTableCell_EditableDataTableCell.__docgenInfo={description:"",displayName:"EditableDataTableCell",props:{column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"IColumnType<T>"}},dataTestId:{defaultValue:null,description:"",name:"dataTestId",required:!1,type:{name:"string"}},editable:{defaultValue:null,description:"",name:"editable",required:!0,type:{name:"boolean"}},row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"T"}},extra:{defaultValue:null,description:"",name:"extra",required:!1,type:{name:"IExtraEditableDataTableProps<T>"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},handleUpdateDataChange:{defaultValue:null,description:"",name:"handleUpdateDataChange",required:!0,type:{name:"(rowIndex: number, dataIndex: keyof T, newData: T[keyof T]) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Components/Organisms/DataTable/EditableDataTable/EditableDataTableCell.tsx#EditableDataTableCell"]={docgenInfo:EditableDataTableCell_EditableDataTableCell.__docgenInfo,name:"EditableDataTableCell",path:"src/Components/Organisms/DataTable/EditableDataTable/EditableDataTableCell.tsx#EditableDataTableCell"})}catch(__react_docgen_typescript_loader_error){}var Icon=__webpack_require__("./src/Components/Atoms/Icon/index.ts");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var EditableDataTableBody_EditableDataTableBody=function EditableDataTableBody(props){var _extra$localization$n,_extra$localization,columns=props.columns,data=props.data,dataTestId=props.dataTestId,extra=props.extra,handleUpdateDataChange=props.handleUpdateDataChange,loading=props.loading,_useState2=_slicedToArray(Object(react.useState)({}),2),selectedRows=_useState2[0],setSelectedRows=_useState2[1],isSelectable=null==extra?void 0:extra.onRowSelect,handleRowClick=function handleRowClick(row,rowIndex){return extra&&extra.onRowClick?function(event){event.preventDefault(),extra&&extra.onRowClick&&extra.onRowClick(row,rowIndex)}:void 0},handleSelectClick=function handleSelectClick(row,rowIndex){return function(_event,selected){var newSelectedRows=Object.assign({},selectedRows);newSelectedRows[rowIndex]=selected,setSelectedRows(newSelectedRows),null!=extra&&extra.onRowSelect&&extra.onRowSelect(data.filter((function(_row,index){return newSelectedRows[index]})),row,rowIndex)}};return Object(jsx_runtime.jsxs)("tbody",{children:[data.map((function(row,rowIndex){var isEditable=void 0===(null==extra?void 0:extra.isEditable)||extra.isEditable(row,rowIndex);return Object(jsx_runtime.jsxs)("tr",{onClick:handleRowClick(row,rowIndex),className:classnames_default()({pointer:extra&&extra.onRowClick,selected:selectedRows[rowIndex]}),children:[isSelectable&&Object(jsx_runtime.jsx)(DataTableCellSelectable.a,{handleSelectClick:handleSelectClick(row,rowIndex),selected:selectedRows[rowIndex],selectable:!extra.isSelectable||extra.isSelectable(row,rowIndex),dataTestId:"select-row-"+rowIndex}),columns.map((function(column){return Object(jsx_runtime.jsx)(EditableDataTable_EditableDataTableCell,{column:column,dataTestId:dataTestId,row:row,extra:extra,rowIndex:rowIndex,handleUpdateDataChange:handleUpdateDataChange,editable:isEditable},"cell-"+rowIndex+"-"+column.title)}))]},"row-"+rowIndex)})),!loading&&(!data||0===(null==data?void 0:data.length))&&Object(jsx_runtime.jsx)("tr",{className:"no-data",children:Object(jsx_runtime.jsx)("td",{colSpan:columns.filter((function(column){return!column.hidden})).length+(isSelectable?1:0),children:Object(jsx_runtime.jsxs)("div",{className:"no-data-container",children:[Object(jsx_runtime.jsx)("div",{className:"no-data-text",children:null!==(_extra$localization$n=null==extra||null===(_extra$localization=extra.localization)||void 0===_extra$localization?void 0:_extra$localization.noData)&&void 0!==_extra$localization$n?_extra$localization$n:"No data"}),Object(jsx_runtime.jsx)(Icon.a,{icon:["fal","inbox"],size:"2x",className:"no-data-icon"})]})})}),loading&&Object(jsx_runtime.jsx)("tr",{className:"no-data",children:Object(jsx_runtime.jsx)("td",{colSpan:columns.filter((function(column){return!column.hidden})).length+(isSelectable?1:0),children:loading})})]})};EditableDataTableBody_EditableDataTableBody.displayName="EditableDataTableBody";var EditableDataTable_EditableDataTableBody=EditableDataTableBody_EditableDataTableBody;try{EditableDataTableBody_EditableDataTableBody.displayName="EditableDataTableBody",EditableDataTableBody_EditableDataTableBody.__docgenInfo={description:"",displayName:"EditableDataTableBody",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"IColumnType<T>[]"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"T[]"}},dataTestId:{defaultValue:null,description:"",name:"dataTestId",required:!1,type:{name:"string"}},extra:{defaultValue:null,description:"",name:"extra",required:!0,type:{name:"IExtraEditableDataTableProps<T>"}},handleUpdateDataChange:{defaultValue:null,description:"",name:"handleUpdateDataChange",required:!0,type:{name:"(rowIndex: number, dataIndex: keyof T, newData: T[keyof T]) => void"}},loading:{defaultValue:null,description:"",name:"loading",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Components/Organisms/DataTable/EditableDataTable/EditableDataTableBody.tsx#EditableDataTableBody"]={docgenInfo:EditableDataTableBody_EditableDataTableBody.__docgenInfo,name:"EditableDataTableBody",path:"src/Components/Organisms/DataTable/EditableDataTable/EditableDataTableBody.tsx#EditableDataTableBody"})}catch(__react_docgen_typescript_loader_error){}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return EditableDataTable_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||EditableDataTable_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EditableDataTable_slicedToArray(arr,i){return function EditableDataTable_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function EditableDataTable_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||EditableDataTable_unsupportedIterableToArray(arr,i)||function EditableDataTable_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EditableDataTable_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return EditableDataTable_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?EditableDataTable_arrayLikeToArray(o,minLen):void 0}}function EditableDataTable_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var EditableDataTable_EditableDataTable=function EditableDataTable(props){var _extra$localization$a,_extra$localization,_extra$localization$m,_extra$localization2,_extra$localization$d,_extra$localization3,_extra$localization$d2,_extra$localization4,_extra$localization$d3,_extra$localization5,_extra$localization$d4,_extra$localization6,_extra$localization$d5,_extra$localization7,_extra$localization$a2,_extra$localization8,columns=props.columns,data=props.data,dataTestId=props.dataTestId,extra=props.extra,loading=props.loading,onSortChange=props.onSortChange,_usePropState2=EditableDataTable_slicedToArray(Object(use_prop_state.a)(data),2),currentData=_usePropState2[0],setCurrentData=_usePropState2[1],_useState2=EditableDataTable_slicedToArray(Object(react.useState)(),2),sortField=_useState2[0],setSortField=_useState2[1],_useState4=EditableDataTable_slicedToArray(Object(react.useState)(),2),sortDirection=_useState4[0],setSortDirection=_useState4[1],currentColumns=null!=extra&&extra.onRowDelete||null!=extra&&extra.onRowDownload?[].concat(_toConsumableArray(columns.filter((function(column){return column.type!==types.a.BUTTON}))),[{title:null!==(_extra$localization$a=null==extra||null===(_extra$localization=extra.localization)||void 0===_extra$localization?void 0:_extra$localization.actionColumn)&&void 0!==_extra$localization$a?_extra$localization$a:"Actions",type:types.a.BUTTON,moreActionsMessage:null!==(_extra$localization$m=null==extra||null===(_extra$localization2=extra.localization)||void 0===_extra$localization2?void 0:_extra$localization2.moreActionsMessage)&&void 0!==_extra$localization$m?_extra$localization$m:"More actions",buttons:[{hidden:function hidden(row,rowIndex){return null==extra||!extra.onRowDelete||void 0!==extra.isDeletable&&!extra.isDeletable(row,rowIndex)},icon:["fal","trash-alt"],label:null!==(_extra$localization$d=null==extra||null===(_extra$localization3=extra.localization)||void 0===_extra$localization3?void 0:_extra$localization3.deleteButton)&&void 0!==_extra$localization$d?_extra$localization$d:"Delete",onClick:function onClick(row,rowIndex){null!=extra&&extra.onRowDelete&&extra.onRowDelete(row,rowIndex),setCurrentData((function(prev){return _toConsumableArray(prev.filter((function(_item,index){return index!==rowIndex})))}))},popover:{message:null!==(_extra$localization$d2=null==extra||null===(_extra$localization4=extra.localization)||void 0===_extra$localization4?void 0:_extra$localization4.deletePopoverMessage)&&void 0!==_extra$localization$d2?_extra$localization$d2:"Delete?",cancel:null!==(_extra$localization$d3=null==extra||null===(_extra$localization5=extra.localization)||void 0===_extra$localization5?void 0:_extra$localization5.deletePopoverCancel)&&void 0!==_extra$localization$d3?_extra$localization$d3:"Cancel",confirm:null!==(_extra$localization$d4=null==extra||null===(_extra$localization6=extra.localization)||void 0===_extra$localization6?void 0:_extra$localization6.deletePopoverConfirm)&&void 0!==_extra$localization$d4?_extra$localization$d4:"Confirm"},dataTestId:"delete"},{hidden:function hidden(row,rowIndex){return null==extra||!extra.onRowDownload||void 0!==extra.isDownloadable&&!extra.isDownloadable(row,rowIndex)},icon:["fal","arrow-down-to-line"],label:null!==(_extra$localization$d5=null==extra||null===(_extra$localization7=extra.localization)||void 0===_extra$localization7?void 0:_extra$localization7.downloadButton)&&void 0!==_extra$localization$d5?_extra$localization$d5:"Download",onClick:function onClick(row,rowIndex){null!=extra&&extra.onRowDownload&&extra.onRowDownload(row,rowIndex)},dataTestId:"download"}]}]):columns,handleSortChange=Object(react.useCallback)((function(newSortField,newSortDirection){sortField===newSortField&&newSortDirection==newSortDirection||(setSortField(newSortField),setSortDirection(newSortDirection),onSortChange&&(newSortField&&newSortDirection?onSortChange(newSortField,newSortDirection):onSortChange()))}),[]);return Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsxs)("table",{className:"gds-table",children:[Object(jsx_runtime.jsx)(StaticDataTableHeader.a,{columns:currentColumns,onSortChange:handleSortChange,sortField:sortField,sortDirection:sortDirection,extra:extra}),Object(jsx_runtime.jsx)(EditableDataTable_EditableDataTableBody,{columns:currentColumns,data:currentData,dataTestId:dataTestId,extra:extra,handleUpdateDataChange:function handleUpdateDataChange(rowIndex,dataIndex,newData){var _Object$assign;setCurrentData((function(prev){return prev[rowIndex][dataIndex]=newData,_toConsumableArray(prev)})),extra.onEdit(Object.assign({},currentData[rowIndex],((_Object$assign={})[dataIndex]=newData,_Object$assign)),dataIndex,rowIndex)},loading:loading}),Object(jsx_runtime.jsx)(StaticDataTableFooter.a,{columns:currentColumns,data:currentData,extra:extra})]}),(null==extra?void 0:extra.canAddNewLine)&&(null==extra?void 0:extra.canAddNewLine())&&Object(jsx_runtime.jsx)(Button.b,{className:"gds-table-new-line",color:Button.a.PRIMARY,label:null!==(_extra$localization$a2=null==extra||null===(_extra$localization8=extra.localization)||void 0===_extra$localization8?void 0:_extra$localization8.addRow)&&void 0!==_extra$localization$a2?_extra$localization$a2:"Add row",onClick:function addNewLine(){if(void 0!==(null==extra?void 0:extra.onNewLine)){var newLine=extra.onNewLine();setCurrentData((function(prev){return prev.push(newLine),_toConsumableArray(prev)}))}else console.warn("Missing onNewLine function")}})]})};EditableDataTable_EditableDataTable.displayName="EditableDataTable",EditableDataTable_EditableDataTable.defaultProps={columns:[],data:[]};__webpack_exports__.a=EditableDataTable_EditableDataTable;try{EditableDataTable_EditableDataTable.displayName="EditableDataTable",EditableDataTable_EditableDataTable.__docgenInfo={description:"",displayName:"EditableDataTable",props:{columns:{defaultValue:{value:"[]"},description:"",name:"columns",required:!1,type:{name:"IColumnType<T>[]"}},data:{defaultValue:{value:"[]"},description:"",name:"data",required:!1,type:{name:"T[]"}},dataTestId:{defaultValue:null,description:"",name:"dataTestId",required:!1,type:{name:"string"}},extra:{defaultValue:null,description:"",name:"extra",required:!0,type:{name:"IExtraEditableDataTableProps<T>"}},loading:{defaultValue:null,description:"",name:"loading",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},onSortChange:{defaultValue:null,description:"",name:"onSortChange",required:!1,type:{name:"((sortField?: keyof T, sortDirection?: SortDirectionEnum) => void) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Components/Organisms/DataTable/EditableDataTable/EditableDataTable.tsx#EditableDataTable"]={docgenInfo:EditableDataTable_EditableDataTable.__docgenInfo,name:"EditableDataTable",path:"src/Components/Organisms/DataTable/EditableDataTable/EditableDataTable.tsx#EditableDataTable"})}catch(__react_docgen_typescript_loader_error){}},"./src/Components/Organisms/DataTable/EditableDataTable/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./src/Components/Organisms/DataTable/EditableDataTable/EditableDataTable.tsx")}}]);